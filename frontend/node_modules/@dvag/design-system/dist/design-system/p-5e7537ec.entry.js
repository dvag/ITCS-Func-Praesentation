import{r as t,c as o,h as e,H as s,g as a}from"./p-c66bef8d.js";import{v as i,E as l}from"./p-70f48e14.js";import{i as n}from"./p-90458c1b.js";import{c as d}from"./p-dc250dcd.js";import{M as h}from"./p-b6113267.js";import"./p-15b13381.js";import"./p-aa0a06c6.js";const m=class{constructor(e){t(this,e),this.modalOpened=o(this,"modalOpened",7),this.modalClosed=o(this,"modalClosed",7),this.state="closed",this.allowbackgroundclose=!0,this.contentcolor="weiss"}visibleChanged(){this.visibilityChanged()}componentWillLoad(){i(this.self),this.visibilityChanged()}disconnectedCallback(){h.instance().unblock(this.self)}componentDidRender(){const t=h.instance();this.visible?t.block(this.self,this.scrollableElement):t.unblock(this.self)}visibilityChanged(){this.visible&&"opening"!==this.state?(this.state="opening",this.modalOpened.emit()):this.visible||"closed"===this.state||this.handleClosing()}layoutAnimationEnd(){"opening"===this.state?this.state="opened":"closing"===this.state&&(this.state="closed")}handleClosing(){this.visible=!1,this.state="closing"}closeModal(){this.handleClosing(),this.modalClosed.emit()}closeModalOnClickOutside(t){this.allowbackgroundclose&&!t.composedPath().includes(this.modalDialog)&&this.closeModal()}render(){d("ds-modal","size",this.size,["fullscreen","content"]),d("ds-modal","contentcolor",this.contentcolor,["weiss","grau"]);const t=(n(this.self,r)?1:0)+(n(this.self,c)?1:0);return e(s,{class:{"size-fullscreen":"fullscreen"===this.size,"size-content":"content"===this.size,"state-closed":"closed"===this.state,"state-opened":"opened"===this.state,"state-opening":"opening"===this.state,"state-closing":"closing"===this.state}},e("div",{class:"overlay"}),e("div",{class:"modal-layout",onClick:t=>this.closeModalOnClickOutside(t),onAnimationEnd:()=>this.layoutAnimationEnd()},e("div",{ref:t=>this.modalDialog=t,class:"modal-element"},this.renderHeader(),this.renderContent(t),this.renderFooter(t),e("div",{class:"header-shadow"}),e("div",{class:{"footer-shadow":!0,visible:t>0,"one-slot":1===t,"two-slots":2===t}}))))}renderHeader(){if("closed"!==this.state)return e("div",{class:"header"},e("div",{class:"header-side"}),e("div",{class:"header-label"},e("ds-text",{type:"ftf"},this.label)),e("div",{class:"header-side"},e("ds-function-icon-button",{id:l.createId(this.self,"close-button"),onClick:()=>this.closeModal()},e("ds-icon",{id:l.createId(this.self,"close-button"),icon:"schliessen-dialog",size:32}))))}renderContent(t){return e("div",{ref:t=>this.scrollableElement=t,class:{content:!0,"color-white":"weiss"==this.contentcolor,"color-grey":"grau"==this.contentcolor,"no-footer":0===t}},e("slot",{name:"content"}))}renderFooter(t){if("closed"!==this.state)return e("div",{class:{footer:!0,visible:t>0,"one-slot":1===t,"two-slots":2===t}},e("div",{class:"footer-left-button"},e("slot",{name:"left-button"})),e("div",null,e("slot",{name:"right-button"})))}get self(){return a(this)}static get watchers(){return{visible:["visibleChanged"]}}},r="right-button",c="left-button";m.style=":host{display:block}:host:host([hidden]){display:none !important}:host .overlay{position:fixed;z-index:1000;left:0;top:0;right:0;bottom:0;background-color:#666666;transition:opacity 300ms ease-in-out;opacity:0.6}:host .modal-layout{position:fixed;z-index:1001;left:0;top:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center}:host .modal-layout .modal-element{position:relative;display:flex;flex-direction:column;background-color:#ffffff;border-radius:6px;overflow:hidden;box-shadow:0 0 30px 0 rgba(0, 0, 0, 0.16);max-width:1200px}:host .modal-layout .modal-element .header{height:64px;display:flex;align-items:center;flex-shrink:0;padding:0 8px}@media (min-width: 768px){:host .modal-layout .modal-element .header{padding:0 16px}}:host .modal-layout .modal-element .header .header-side{width:44px;height:44px}:host .modal-layout .modal-element .header .header-label{flex-grow:1;text-align:center}:host .modal-layout .modal-element .header-shadow,:host .modal-layout .modal-element .footer-shadow{position:absolute;z-index:2;height:16px;left:0;right:0;pointer-events:none}:host .modal-layout .modal-element .header-shadow{top:64px;background:linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.08) 100%)}:host .modal-layout .modal-element .footer-shadow{background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.08) 100%);bottom:64px}:host .modal-layout .modal-element .footer-shadow:not(.visible){display:none}:host .modal-layout .modal-element .footer-shadow.one-slot{bottom:96px}:host .modal-layout .modal-element .footer-shadow.two-slots{bottom:152px}@media (min-width: 768px){:host .modal-layout .modal-element .footer-shadow.one-slot,:host .modal-layout .modal-element .footer-shadow.two-slots{bottom:86px}}:host .modal-layout .modal-element .content{overflow-y:auto;flex-grow:1;padding:16px;position:relative;top:0;left:0}@media (min-width: 768px){:host .modal-layout .modal-element .content{padding:24px}}:host .modal-layout .modal-element .content.color-white{background-color:inherit}:host .modal-layout .modal-element .content.color-grey{background-color:#f5f5f5}:host .modal-layout .modal-element .footer{display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-sizing:border-box;flex-shrink:0;padding:24px 16px}@media (min-width: 768px){:host .modal-layout .modal-element .footer{padding:24px}}:host .modal-layout .modal-element .footer:not(.visible){display:none}:host .modal-layout .modal-element .footer.one-slot{height:96px}:host .modal-layout .modal-element .footer.two-slots{height:152px}@media (min-width: 768px){:host .modal-layout .modal-element .footer.one-slot,:host .modal-layout .modal-element .footer.two-slots{height:86px;flex-direction:row;justify-content:space-between}:host .modal-layout .modal-element .footer .footer-left-button{margin-right:24px}}:host(.state-closed) .modal-element{opacity:0;visibility:hidden}:host(.state-closing),:host(.state-closed){pointer-events:none}:host(.state-closing) .overlay,:host(.state-closed) .overlay{opacity:0}:host(.state-opening) .modal-layout{animation:animate-open 400ms ease-in-out;animation-fill-mode:forwards}:host(.state-closing) .modal-layout{animation:animate-close 400ms ease-in-out;animation-fill-mode:forwards}@keyframes animate-open{from{transform:translateY(-100vh);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes animate-close{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-100vh);opacity:0}}:host(.size-fullscreen) .modal-element{width:100%;height:100%;border-radius:0}@media (min-width: 1200px){:host(.size-fullscreen) .modal-element{margin:32px;max-height:calc(100vh - 64px);border-radius:6px}}:host(.size-content) .modal-layout .modal-element{max-height:calc(100vh - 64px)}@media (min-width: 991px){:host(.size-content) .modal-layout .modal-element{max-width:min(100vw - 64px, 1200px)}}@media (max-width: 767px){:host(.size-content) .modal-layout .modal-element{width:100%;height:100%;border-radius:0;max-height:inherit}}";export{m as ds_modal}