import{r as e,c as t,h as r,F as i,H as a,g as s}from"./p-c66bef8d.js";import{o as n}from"./p-90458c1b.js";import{S as o}from"./p-968cb048.js";import"./p-fabbcf47.js";const c=class{constructor(r){e(this,r),this.navigateHome=t(this,"navigateHome",7),this.navigate=t(this,"navigate",7),this.renderHomeIcon=!0,this.items=[],this.renderModel=[]}connectedCallback(){this.itemObserver=new o(this.self,"dx-breadcrumb-item",(async e=>{await this.collectOptions(e)})),this.measurementResizeObserver=new ResizeObserver((()=>{this.measureBreadcrumbParts()}))}componentDidRender(){this.measureBreadcrumbParts()}disconnectedCallback(){var e,t;null===(e=this.itemObserver)||void 0===e||e.disconnect(),null===(t=this.measurementResizeObserver)||void 0===t||t.disconnect()}onResize(){this.updateModel()}async collectOptions(e){return Promise.all(e.map((e=>e.toItem()))).then((e=>{this.items=e}))}updateModel(){var e;const t=null===(e=this.breadcrumbContainer)||void 0===e?void 0:e.clientWidth,r=this.calculateItemWidth()<=t;this.renderHomeIcon=r,r?this.renderModel=this.items:n((()=>{this.renderModel=this.calculateRemainingItems(t)}))}calculateRemainingItems(e){let t=this.calculateItemWidth();const r=Array.from(this.items);for(;t-d>e&&r.length>1;)r.shift(),t=this.calculateItemWidth((this.items.length+b-r.length)*l);return r}measureBreadcrumbParts(){this.totalItemWidth!==this.calculateItemWidth()&&n((()=>{this.updateModel(),this.totalItemWidth=this.calculateItemWidth()}))}calculateItemWidth(e=0){var t,r,i;return Array.from(null!==(i=null===(r=null===(t=this.measurementBox)||void 0===t?void 0:t.children[0])||void 0===r?void 0:r.children)&&void 0!==i?i:[]).splice(e).reduce(((e,t)=>e+t.clientWidth),0)+(e>0?48:0)}setMeasurementBox(e){e!==this.measurementBox&&(this.measurementResizeObserver.disconnect(),this.measurementResizeObserver.observe(e),this.measurementBox=e,requestAnimationFrame((()=>{this.totalItemWidth=this.calculateItemWidth()})))}renderBreadcrumb(){return[this.renderHomeIcon?this.renderHomePart():this.renderDots(),this.renderBreadcrumbItems(this.renderModel)]}renderBreadcrumbItems(e){return e.map(((t,r)=>this.renderBreadcrumbItem(t,1===e.length,r===e.length-1)))}renderBreadcrumbItem(e,t=!1,a=!1){return a?r("div",{class:{"breadcrumb-item":!0,ellipsis:t}},this.renderBreadcrumbItemText(t,e)):r(i,null,r("div",{class:{"breadcrumb-item":!0,"with-label":!0}},r("button",{class:"breadcrumb-item-button",onClick:()=>this.navigate.emit(e.value)},this.renderBreadcrumbItemText(t,e))),this.renderChevron())}renderBreadcrumbItemText(e,t){return r("dx-text",{type:"Infotext-Small",class:{"ellipsis-text":e}},t.label)}renderHomePart(){return r(i,null,r("div",{class:{"breadcrumb-item":!0,"with-home-icon":!0}},r("button",{class:"breadcrumb-item-button",onClick:()=>this.navigateHome.emit()},r("dx-icon",{class:"home-icon",icon:"home",size:16}))),this.renderChevron())}renderDots(){var e;const t=this.items.length-this.renderModel.length-1,a=null===(e=this.items[t])||void 0===e?void 0:e.value;return r(i,null,r("div",{class:{"breadcrumb-item":!0,"with-dots":!0}},r("button",{class:"breadcrumb-item-button",onClick:()=>{t>=0?this.navigate.emit(a):this.navigateHome.emit()}},r("dx-text",{type:"Infotext-Small",key:"ellipse"},"..."))),this.renderChevron())}renderChevron(){return r("dx-icon",{class:"chevron-icon",icon:"chevron-rechts",size:16})}render(){return r(a,null,r("div",{class:"item-measurement-box",ref:e=>{this.setMeasurementBox(e)}},r("div",{class:"breadcrumb-parts-container"},this.renderHomePart(),this.renderBreadcrumbItems(this.items))),r("div",{ref:e=>this.breadcrumbContainer=e,class:"width-measurement-box"},r("div",{class:"breadcrumb-parts-container"},this.renderBreadcrumb())))}get self(){return s(this)}},d=4,b=1,l=2;c.style=":host{flex-grow:1}:host:host([hidden]){display:none !important}.item-measurement-box{position:fixed;top:-3000px;display:flex;visibility:hidden;pointer-events:none}.width-measurement-box{display:flex;height:36px;align-items:center}.breadcrumb-parts-container{overflow:hidden;display:flex;align-items:center;--dx-text-color:var(--dx-header-text-icon-theme-color, #808080);--dx-icon-color:var(--dx-header-text-icon-theme-color, #808080);white-space:nowrap}.breadcrumb-parts-container .chevron-icon{flex-shrink:0}.breadcrumb-parts-container .breadcrumb-item{height:36px;padding-right:8px}.breadcrumb-parts-container .breadcrumb-item.with-label{padding:0 8px}.breadcrumb-parts-container .breadcrumb-item.with-dots{padding-right:4px}.breadcrumb-parts-container .breadcrumb-item.with-home-icon{padding-right:4px}.breadcrumb-parts-container .breadcrumb-item .breadcrumb-item-button{width:var(--dx-button-width, fit-content);width:var(--dx-button-width, -moz-fit-content);cursor:pointer;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;white-space:nowrap;user-select:none;-webkit-user-select:none;border:none;margin:0;background-color:transparent;transition:background-color 150ms ease-in-out, border-color 150ms ease-in-out;padding:0;height:100%;transition:background-color 300ms ease-in-out;--dx-text-color-transition:none}.breadcrumb-parts-container .breadcrumb-item .breadcrumb-item-button[disabled]{cursor:unset}@media not all and (pointer: coarse){.breadcrumb-parts-container .breadcrumb-item .breadcrumb-item-button:hover{cursor:pointer;--dx-text-color:var(--dx-header-breadcrumb-text-icon-hover-color, #00587c);--dx-icon-color:var(--dx-header-breadcrumb-text-icon-hover-color, #00587c);background-color:var(--dx-header-breadcrumb-background-hover-color, transparent)}}.breadcrumb-parts-container .breadcrumb-item .breadcrumb-item-button:active{--dx-text-color:var(--dx-header-breadcrumb-text-icon-active-color, #004763);--dx-icon-color:var(--dx-header-breadcrumb-text-icon-active-color, #004763);background-color:var(--dx-header-breadcrumb-background-active-color, transparent)}.breadcrumb-parts-container .breadcrumb-item:last-child{display:inline-flex;align-items:center;padding-right:0;padding-left:8px}.breadcrumb-parts-container .breadcrumb-item:last-child dx-text{padding-right:0;cursor:default}.breadcrumb-parts-container .breadcrumb-item:last-child.ellipsis{overflow:hidden}.breadcrumb-parts-container .breadcrumb-item:last-child.ellipsis .ellipsis-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}";export{c as dx_breadcrumb}