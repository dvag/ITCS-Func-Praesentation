import{r as t,c as s,h as i,H as e,g as r,f as o}from"./p-c66bef8d.js";import{a as h}from"./p-dc250dcd.js";import{o as a}from"./p-90458c1b.js";import{D as n}from"./p-2191fe4f.js";import{R as l}from"./p-4de2e84c.js";import{c as d}from"./p-e0194d22.js";const c=class{constructor(i){t(this,i),this.valueChange=s(this,"valueChange",7),this.isDragging=!1,this.step=.01,this.formattedvalue="$0",this.readonly=!1}valueChanged(){null!=this.value&&isNaN(this.value)&&(console.error("<ds-slider> hat einen ungültigen Zahlenwert für das Attribut 'value' gesetzt."),this.value=null)}componentWillLoad(){this.dragController=new n((()=>this.value),(t=>{var s;const i=this.self.getBoundingClientRect(),e=i.left,r=Math.max(0,Math.min((t.x-e)/(i.right-e),1)),o=Math.round((this.min+r*(this.max-this.min))/this.step)*this.step,h=(null===(s=this.step.toString().split(".")[1])||void 0===s?void 0:s.length)||0;this.value=parseFloat(o.toFixed(h)),this.valueChange.emit(this.value)}),(()=>this.isDragging=!0),(()=>this.isDragging=!1))}format(t){if(this.formattedvalue){if(!this.formattedvalue.includes("$"))return this.formattedvalue;try{const s=this.formattedvalue.match(/(.*)(\$\d)(.*)/),i=parseInt(s[2].substring(1)),e=t.toFixed(i).replace(".",",");return s[1]+e+s[3]}catch(t){console.error("Fehler beim Interpretieren der Eigenschaft 'formattedvalue'")}}return t.toString()}valueTranslationX(t){if(null!=this.valueElement){const s=this.valueElement.offsetWidth;let i=p/2+t*this.getHostWidth()-s/2;return i=d(i,0,p+this.getHostWidth()-s),i}return 0}getHostWidth(){return this.self.clientWidth-p}render(){h(null!=this.min,(()=>"Für <ds-slider> ist die Angabe eines Min-Wertes erforderlich")),h(null!=this.max,(()=>"Für <ds-slider> ist die Angabe eines Max-Wertes erforderlich")),h(this.min<this.max,(()=>"Für <ds-slider> muss der Min-Wert kleiner sein als der Max-Wert")),h(this.value>=this.min&&this.value<=this.max,(()=>"Für <ds-slider> muss der Value zwischen Min-Wert und Max-Wert liegen"));const t=d(this.value,this.min,this.max),s=(t-this.min)/(this.max-this.min),r=this.getHostWidth();return this.valueElement||a((()=>o(this))),this.readonly?i(l,{text:this.format(t)}):i(e,{class:{"is-dragging":this.isDragging}},i("div",{class:"form-control"},i("div",{class:"outer-bar"},i("div",{class:"inner-bar",style:{transform:`scaleX(${s})`}})),i("div",{class:"knob",onPointerDown:t=>this.dragController.onPointerDown(t),onTouchStart:t=>this.dragController.onTouchStart(t),style:{transform:`translateX(${s*r}px)`}}),i("div",{class:{value:!0,visible:null!=this.valueElement},style:{transform:`translateX(${this.valueTranslationX(s)}px)`},ref:t=>this.valueElement=t},i("ds-text",{type:"fliesstext-fett",screensize:"small"},this.format(t)))),this.renderLabel())}renderLabel(){if(this.label)return i("div",{class:"label"},i("ds-text",{type:"infotext-klein",screensize:"small"},this.label))}get self(){return r(this)}static get watchers(){return{value:["valueChanged"]}}},p=32;c.style=":host{display:block}:host:host([hidden]){display:none !important}:host:host(.is-dragging){cursor:grab !important}:host .form-control{height:76px;position:relative;top:0;left:0}:host .form-control .knob{position:absolute;top:36px;left:0;background-color:#ffffff;border:1px solid #a7893d;width:32px;height:32px;border-radius:50%;box-sizing:border-box;box-shadow:0px 4px 12px 0px rgba(0, 0, 0, 0.12)}:host .form-control .outer-bar{position:absolute;top:52px;width:100%;height:2px;background-color:#dedede}:host .form-control .outer-bar .inner-bar{width:100%;height:100%;background-color:#a7893d;transform-origin:left}:host .form-control .value{display:inline-block;opacity:0;white-space:nowrap}:host .form-control .value.visible{opacity:1}:host .label{padding-left:8px}";export{c as ds_slider}