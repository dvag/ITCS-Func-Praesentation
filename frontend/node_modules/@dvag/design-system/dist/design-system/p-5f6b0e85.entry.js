import{r as t,h as o,H as i,g as n}from"./p-c66bef8d.js";import{v as s,E as e}from"./p-70f48e14.js";import{S as h}from"./p-968cb048.js";import{i as r}from"./p-90458c1b.js";import{a as d}from"./p-aa0a06c6.js";import"./p-15b13381.js";import"./p-fabbcf47.js";const a=class{constructor(o){t(this,o),this.size="max-width",this.hidebutton=!1,this.popupvisible=!1,this.infoButtonOffsetX="0px",this.infoButtonOffsetY="0px",this.handleModalOpened=()=>{this.popupvisible=!1}}async setModal(t){var o,i;this.modal!==t&&(null===(o=this.modal)||void 0===o||o.removeEventListener("modalOpened",this.handleModalOpened),this.modal=t,null===(i=this.modal)||void 0===i||i.addEventListener("modalOpened",this.handleModalOpened))}windowClicked(t){this.closePopupOnClickOutside(t)}onWindowKeyDown(){var t;this.popupvisible&&((null===(t=document.activeElement)||void 0===t?void 0:t.closest("ds-info"))===this.self||d(this.self)||(this.popupvisible=!1))}componentWillLoad(){this.hidebutton||s(this.self),this.contentResizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>{this.centerContentAndInfo=this.content.offsetHeight<=28,this.computeInfoButtonOffset()}))}))}connectedCallback(){this.modalObserver=new h(this.self,"ds-modal",(async t=>{t.length>0&&await this.setModal(t[0])}))}disconnectedCallback(){this.modalObserver.disconnect(),this.contentResizeObserver.disconnect()}togglePopUp(){r(this.self,"content")&&(this.popupvisible=!this.popupvisible)}closePopupOnClickOutside(t){var o;(null===(o=this.modal)||void 0===o?void 0:o.visible)||!this.popupvisible||t.composedPath().includes(this.popup)||(this.popupvisible=!1,t.stopPropagation())}setContent(t){var o,i;t!==this.content?(null!=this.content&&(null===(o=this.contentResizeObserver)||void 0===o||o.unobserve(this.content)),this.content=t,null===(i=this.contentResizeObserver)||void 0===i||i.observe(this.content)):this.computeInfoButtonOffset()}computeInfoButtonOffset(){let t,o;const i=this.content.firstElementChild,n=null==i?void 0:i.assignedElements();if(null!=n)for(let i=0;i<n.length;++i){const s=getComputedStyle(n[i]);if(t=s.getPropertyValue("--ds-info-button-offset-x"),o=s.getPropertyValue("--ds-info-button-offset-y"),t||o)break}this.infoButtonOffsetX=t||"0px",this.infoButtonOffsetY=o||"0px"}render(){return o(i,{class:{"full-width":"max-width"===this.size,"content-width":"content"===this.size,"center-content":this.centerContentAndInfo},style:{"--ds-info-button-offset-x":this.infoButtonOffsetX,"--ds-info-button-offset-y":this.infoButtonOffsetY}},o("div",{class:"content",ref:t=>this.setContent(t)},o("slot",null)),o("div",{class:{"info-container":!0}},o("button",{id:e.createId(this.self,"info-icon"),onClick:()=>this.togglePopUp(),class:{"info-button":!0,hidden:this.hidebutton}},o("ds-icon",{icon:"info",size:24})),o("dx-popup",{dstheme:!0,ref:t=>this.popup=t,arrowposition:"left",show:this.popupvisible,contentwidth:"unconstrained"},o("slot",{name:"content"}))),o("slot",{name:"modal"}))}get self(){return n(this)}};a.style=":host{display:flex;position:relative;top:0;left:0}:host:host([hidden]){display:none !important}:host:host(.center-content){align-items:center}:host:host(.center-content) .info-container{height:24px}:host:host(:not(.center-content)) .info-container{padding-top:calc(var(--ds-info-button-offset-y, 0px) + 7px);padding-left:var(--ds-info-button-offset-x, 0px)}:host .info-container{position:relative;height:max-content;--dx-popup-offset-left:6px;--dx-popup-offset-top:1px}:host .info-container .info-button{width:fit-content;width:-moz-fit-content;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;white-space:nowrap;user-select:none;-webkit-user-select:none;border-radius:6px;border:none;padding:0;margin:0;background-color:transparent;margin-left:8px;flex-shrink:0;cursor:pointer}:host .info-container .info-button:focus-visible{outline:none;box-shadow:var(--ds-button-outline-box-shadow, 0 0 0 2px #7f7f7f)}:host .info-container .info-button:hover{--ds-icon-color:#856d30}:host .info-container .info-button.hidden{pointer-events:none;visibility:hidden}:host .content{height:max-content}:host(.full-width) .content{flex-grow:1;min-width:0}";export{a as ds_info}