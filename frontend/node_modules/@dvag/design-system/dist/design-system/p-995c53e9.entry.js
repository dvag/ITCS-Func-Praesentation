import{r as t,c as i,f as s,h as e,H as o,g as n}from"./p-c66bef8d.js";import{B as a}from"./p-76fa4815.js";import{E as h}from"./p-70f48e14.js";import{o as r}from"./p-90458c1b.js";import{S as l}from"./p-1c7f0e27.js";import{V as d}from"./p-15b13381.js";import{D as c}from"./p-54eaab21.js";class p{constructor(){this.currentPaddingTop=24,this.currentNotificationToasts=[],this.notificationsTransitionDebounce=new c(50),this.notificationCloseHandle=t=>this.internalCloseNotification(t.target),this.resizeObserver=new ResizeObserver((()=>{this.setNotificationsTransition(u),this.updatePositions(),this.notificationsTransitionDebounce.run((()=>{this.setNotificationsTransition(m)}))})),this.updatePositions()}connect(){this.breakpointAware=new a((()=>{this.currentPaddingTop=this.getCurrentPaddingTop(),this.updatePositions()}),!0),this.currentPaddingTop=this.getCurrentPaddingTop()}disconnect(){this.breakpointAware.disconnect()}getCurrentPaddingTop(){return this.breakpointAware.getEffectiveValue({mq1:24,mq3:40,mq5:80})}static instance(){return d.instance().getOrPut("dx-notification-service",(()=>new p))}addNotificationToast(t){this.currentNotificationToasts.includes(t)||(null!=this.resizeObserver&&null!=this.breakpointAware||this.connect(),this.currentNotificationToasts.push(t),t.addEventListener("closeNotification",this.notificationCloseHandle),this.resizeObserver.observe(t),this.updatePositions())}internalCloseNotification(t){this.currentNotificationToasts=this.currentNotificationToasts.filter((i=>t!==i)),t.removeEventListener("closeNotification",this.notificationCloseHandle),this.resizeObserver.unobserve(t),0===this.currentNotificationToasts.length?this.disconnect():this.updatePositions()}updatePositions(){let t=this.currentPaddingTop;this.currentNotificationToasts.forEach((i=>{i.style.top=t+"px",t+=i.offsetHeight+24}))}setNotificationsTransition(t){this.currentNotificationToasts.forEach((i=>{i.style.transition=t}))}}const m="top 500ms ease-in-out",u="none",f=class{constructor(s){t(this,s),this.closeNotification=i(this,"closeNotification",7),this.swipeController=new l((()=>0),this.onSwipeStart.bind(this),this.onSwipeRecognized.bind(this),this.onSwipeUpdate.bind(this)),this.show=!1,this.animating=!1,this.closingDirection="top",this.closeafter=5}onVisibleChanged(){this.visible&&(this.resetTimerProperties(),this.currentXOffset=void 0,this.flyout.style.removeProperty(x),this.flyout.style.removeProperty(g),this.animating=!1,this.closingDirection="top",p.instance().addNotificationToast(this.self),r((()=>{this.show=this.visible})))}connectedCallback(){this.breakpointAware=new a((()=>s(this)),!0),this.visible&&p.instance().addNotificationToast(this.self)}disconnectedCallback(){this.breakpointAware.disconnect()}componentDidLoad(){requestAnimationFrame((()=>{this.show=this.visible}))}closeImmediately(){clearTimeout(this.closeHandle),this.closeNotification.emit(),this.visible=!1,this.show=!1}handleAnimationEnd(t){t.elapsedTime>.001?this.closeImmediately():this.animating=!1}handleTransitionEnd(t){"opacity"!==t.propertyName&&(this.show?Number.isInteger(this.closeafter)&&this.closeafter>0?(this.restTime=1e3*this.closeafter,this.startTimer()):(this.show=!1,console.error("The 'closeafter' property has to be an integer > 0",this.self)):this.closeImmediately())}onSwipeStart(){this.animating=!0,this.stopTimer()}onSwipeUpdate(t){this.currentXOffset=t.currentX-t.startX,this.animating=!0,this.closingDirection=t.currentX>t.startX?"right":"left";const i=Math.abs(t.currentX-t.startX)/this.flyout.offsetWidth;this.flyout.style.setProperty(g,500*-i+"ms")}onSwipeRecognized(t){const i=this.currentXOffset;if(this.currentXOffset=void 0,"left"===t||"right"===t||Math.abs(i)>.333*window.innerWidth)return this.flyout.style.setProperty(x,"running"),this.closingDirection="left"===t||i>=0?"right":"left",void(this.show=!1);this.flyout.style.removeProperty(g),this.flyout.style.removeProperty(x),this.closingDirection="top",this.startTimer()}resetTimerProperties(){this.start=void 0,this.restTime=1e3*this.closeafter,clearTimeout(this.closeHandle),this.closeHandle=null}startTimer(){clearTimeout(this.closeHandle),this.start=(new Date).getTime(),this.closeHandle=setTimeout((()=>{this.show=!1,this.resetTimerProperties()}),this.restTime)}stopTimer(){const t=(new Date).getTime();this.restTime-=t-this.start,clearTimeout(this.closeHandle),this.closeHandle=null}renderTitle(){if(null!=this.titlestring&&0!==this.titlestring.length)return e("dx-text",{class:"title",type:"pb",color:"headline"},this.titlestring)}renderSubContent(){if(this.subcontent)return e("dx-text",{class:"subcontent",type:"its"},this.subcontent)}renderIcon(){if(this.icon)return e("div",{class:"icon-container"},e("dx-icon",{size:this.breakpointAware.mq1?48:72,icon:this.icon,color:this.iconcolor}))}renderCloseButton(){return e("div",{class:"close-icon-container"},e("button",{id:h.createId(this.self,"close-button"),onClick:()=>this.show=!1,class:"close-button"},e("dx-icon",{icon:"schliessen",size:24,color:"default"})))}render(){return e(o,{class:{visible:this.visible},role:"alert"},e("div",{class:"oversized-page"},e("dx-card",{class:{flyout:!0,show:this.show,"page-wrapped-content":!0,"to-the-left":this.animating&&"left"===this.closingDirection,"to-the-right":this.animating&&"right"===this.closingDirection},ref:t=>this.flyout=t,onTouchStart:t=>this.swipeController.onTouchStart(t),onTransitionEnd:t=>this.handleTransitionEnd(t),onAnimationEnd:t=>this.handleAnimationEnd(t)},e("div",{class:"content-container"},this.renderIcon(),e("div",{class:"text-container"},this.renderTitle(),e("slot",null),this.renderSubContent())),this.renderCloseButton())))}get self(){return n(this)}static get watchers(){return{visible:["onVisibleChanged"]}}},x="--dx-toast-flyout-play-state",g="--dx-toast-flyout-delay";f.style=":host{display:none;pointer-events:none;position:fixed;left:0;z-index:1002;width:100%;box-sizing:border-box;transition:top 500ms ease-in-out}:host:host([hidden]){display:none !important}:host:host(.visible){display:block}@keyframes to-the-right{0%{opacity:1;transform:translateY(0px) translateX(0px)}100%{opacity:0;transform:translateY(0px) translateX(100%)}}@keyframes to-the-left{0%{opacity:1;transform:translateY(0px) translateX(0px)}100%{opacity:0;transform:translateY(0px) translateX(-100%)}}:host .oversized-page{padding:0 8px;max-width:1460px;box-sizing:border-box}@media (min-width: 476px){:host .oversized-page{padding:0 12px}}@media (min-width: 760px){:host .oversized-page{padding:0 16px}}@media (min-width: 1280px){:host .oversized-page{padding:0 20px}}@media (min-width: 1460px){:host .oversized-page{margin:auto}}:host .oversized-page .flyout{box-shadow:0 0 8px rgba(0, 0, 0, 0.16);--delay:0;pointer-events:initial;display:flex;opacity:0;transform:translateY(-100px);transition:opacity 500ms ease-in-out, transform 500ms ease-in-out;will-change:opacity, transform}@media (min-width: 0px){:host .oversized-page .flyout{padding:48px 24px 24px 24px}}@media (min-width: 760px){:host .oversized-page .flyout{padding:24px 56px 24px 24px}}:host .oversized-page .flyout.show{opacity:1;transform:translateY(0px)}:host .oversized-page .flyout.to-the-right{animation:to-the-right 500ms linear;animation-play-state:var(--dx-toast-flyout-play-state, paused);animation-delay:var(--dx-toast-flyout-delay)}:host .oversized-page .flyout.to-the-left{animation:to-the-left 500ms linear;animation-play-state:var(--dx-toast-flyout-play-state, paused);animation-delay:var(--dx-toast-flyout-delay)}:host .oversized-page .flyout .content-container{display:flex;width:100%}@media (min-width: 0px){:host .oversized-page .flyout .content-container{flex-direction:column}}@media (min-width: 760px){:host .oversized-page .flyout .content-container{flex-direction:row}}:host .oversized-page .flyout .icon-container{display:flex;align-items:center;justify-content:center}@media (min-width: 760px){:host .oversized-page .flyout .icon-container{margin-right:24px}}:host .oversized-page .flyout .text-container{flex:1}:host .oversized-page .flyout .text-container .title{display:block;margin-bottom:8px}:host .oversized-page .flyout .text-container .subcontent{display:block;margin-top:8px}:host .oversized-page .flyout .close-icon-container{position:absolute;right:24px;top:24px}:host .oversized-page .flyout .close-icon-container .close-button{width:var(--dx-button-width, fit-content);width:var(--dx-button-width, -moz-fit-content);cursor:pointer;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;white-space:nowrap;user-select:none;-webkit-user-select:none;border:none;margin:0;background-color:transparent;transition:background-color 150ms ease-in-out, border-color 150ms ease-in-out}:host .oversized-page .flyout .close-icon-container .close-button[disabled]{cursor:unset}:host ds-text{display:block}";export{f as dx_notification_toast}