import{r as t,c as i,h as e,H as s,g as n,f as a}from"./p-c66bef8d.js";import{E as h}from"./p-70f48e14.js";import{S as o}from"./p-968cb048.js";import{e as r,t as d}from"./p-aa0a06c6.js";import{i as l}from"./p-90458c1b.js";import{a as c}from"./p-dc250dcd.js";import{a as u,i as p,b as m}from"./p-ce3016a9.js";import{g as v}from"./p-ab7cc717.js";import"./p-15b13381.js";import"./p-fabbcf47.js";const x=class{constructor(e){t(this,e),this.interaction=i(this,"interaction",7),this.currentType="Paragraph-Standard"}connectedCallback(){this.resizeObserver=new ResizeObserver((t=>{this.currentType=t[0].contentRect.height>1.5*b?f:g}))}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}render(){return e(s,null,e("div",{class:"app-name-container",role:"button",id:h.createId(this.self,"control"),onClick:()=>this.interaction.emit()},e("dx-text",{class:{"displayed-text":!0},type:this.currentType},this.appname)),e("dx-text",{type:"ps",class:{"hidden-text":!0},ref:t=>this.resizeObserver.observe(t)},this.appname))}get self(){return n(this)}},b=24,g="Paragraph-Standard",f="Infotext-Small";x.style=":host{display:block;width:100%;height:100%;min-width:176px;max-width:640px;position:relative}:host:host([hidden]){display:none !important}:host .hidden-text{display:block;position:absolute;top:-10000px;width:100%;visibility:hidden;pointer-events:none}:host .app-name-container{cursor:pointer;width:max-content;max-width:100%;height:100%;display:flex;align-items:center}:host .app-name-container .displayed-text{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;--dx-text-color:var(--dx-header-text-icon-theme-color, #2b2b2b)}";const w=class{constructor(e){t(this,e),this.sidebarOpenChange=i(this,"sidebarOpenChange",7),this.navigationInSlot=!1,this.showSidebar=!1}onShowSidebarChanged(){const t=new CustomEvent(this.showSidebar?"sidebarOpen":"sidebarClose",{detail:{showNavigationItem:this.navigationValueToShowInNavigationMenu}});this.navigationValueToShowInNavigationMenu=null,this.menuItems.forEach((i=>{i.internalactive&&(i.internalactive=this.showSidebar),i.dispatchEvent(t)})),this.showSidebar?this.showChildrenOnSidebarOpen():this.updateChildren(this.lastPossibleAvailableSpace).then(),this.sidebarOpenChange.emit(this.showSidebar)}connectedCallback(){this.menuItemsObserver=new o(this.self,"*",(()=>{this.menuItems=this.getAllSlottedMenuItemElements(),this.handleSlottedNavigationItem()}))}disconnectedCallback(){var t;null===(t=this.menuItemsObserver)||void 0===t||t.disconnect()}async componentWillRender(){var t;const i=null===(t=this.menuItems)||void 0===t?void 0:t.map((t=>{var i,s;return null!==(s=null===(i=t.renderSidebarContent)||void 0===i?void 0:i.call(t))&&void 0!==s?s:e("slot",{name:t.connectedslot})}));this.sidebarContentOutputs=null!=i?(await Promise.all(i)).map(((t,i)=>{var s;return e("dx-content-switcher-item",{value:null!==(s=this.menuItems[i].connectedslot)&&void 0!==s?s:i},t)})):null}onForceSidebarContentUpdate(){a(this)}handleOpenSidebar(t){this.showSidebar=t.detail}onMenuInteraction(t){if(t.target===this.self)return;const i=t.target;if(u(i)){const t=i,e=t.internalactive;this.menuItems.forEach((i=>{i.internalactive=this.menuItemHasSidebarContent(i)&&i===t&&!e})),t.internalactive&&this.contentSwitcher.showValue(t.connectedslot,this.showSidebar).then(),this.showSidebar=t.internalactive}else if(p(t.target)){const i=t.target;this.menuLinkHasNavigationElement(i)&&(this.navigationValueToShowInNavigationMenu=i.connectednavigationvalue,this.navigationMenuItem.internalactive=!0,this.contentSwitcher.showValue(this.navigationMenuItem.connectedslot,this.showSidebar).then(),this.showSidebar=!0)}}showChildrenOnSidebarOpen(){this.getGroupedHeaderMenuEntries().forEach((t=>{t.internalopen||(t.internalopen=u(t))})),this.navigationMenuItem.internalnotification=!1}async updateChildren(t){this.lastPossibleAvailableSpace=Math.floor(t);const i=this.getGroupedHeaderMenuEntries().sort(((t,i)=>(i.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY))).reverse();if(0===i.length)return;let e=0,s=!1,n=null;const a=t=>{var i,e,a;i=t,n="system"!==(e=n)&&S(i)&&null!==(a=i.notificationstheme)&&void 0!==a?a:e,s||(s=S(t))},h=r(this.self);for(const t of i){e+=await t.getDefaultWidth();const i=this.getSpacerToTheRight(t,h);e+=v(i);const n=e<=this.lastPossibleAvailableSpace;t.internalopen=n||this.showSidebar&&u(t),this.updateSpacerVisibility(i,n),s||t.internalopen||("dx-header-menu-group"===t.tagName.toLowerCase()?(await t.getInnerMenuItems()).forEach((t=>{a(t)})):u(t)&&a(t))}this.navigationMenuItem&&(this.navigationMenuItem.internalnotification=s,this.navigationMenuItem.internalnotificationstheme=n)}updateSpacerVisibility(t,i){t&&(t.style.transition="width var(--dx-header-hide-animation-duration) ease-in-out",t.style.width=i?v(t)+"px":"0")}getSpacerToTheRight(t,i){const e=i.indexOf(t);if(e>=0&&i.length>e+1){const t=i[e+1];return"dx-spacer"===d(t)?t:null}return null}getAllSlottedMenuItemElements(){return r(this.self).filter((t=>y(t.tagName))).map(((t,i)=>{var e;return u(t)?(null!==(e=t.connectedslot)&&void 0!==e||(t.connectedslot=i.toString()),t):m(t)?r(t):void 0})).filter((t=>!!t)).flat()}handleSlottedNavigationItem(){const t=this.menuItems.find((t=>"dx-header-navigation"===d(t)));this.navigationInSlot=null!=t,this.navigationInSlot?(this.navigationMenuItem=t,c(this.menuItems.indexOf(this.navigationMenuItem)===this.menuItems.length-1,(()=>"The <dx-header-navigation> has to be the last menu item integrated into the <dx-header> element. This has to be ensured because of the tab order and accessibility reasons."),this.navigationMenuItem)):null!=this.navigationMenuItem&&this.menuItems.push(this.navigationMenuItem)}menuItemHasSidebarContent(t){var i;return null!=t.renderSidebarContent||(null===(i=t.connectedslot)||void 0===i?void 0:i.length)>0&&l(this.self,t.connectedslot)}menuLinkHasNavigationElement(t){var i;return(null===(i=t.connectednavigationvalue)||void 0===i?void 0:i.length)>0&&t.label&&r(this.navigationMenuItem).some((i=>i.value===t.connectednavigationvalue))}getGroupedHeaderMenuEntries(){return r(this.self).filter((t=>y(t.tagName))).concat(this.navigationInSlot||0===this.menuItems.length?[]:this.menuItems[this.menuItems.length-1])}renderHeaderNavigation(){var t,i;if(!this.navigationInSlot&&0!=(null!==(i=null===(t=this.menuItems)||void 0===t?void 0:t.length)&&void 0!==i?i:0))return e("dx-header-navigation",{id:h.createId(this.self,"navigation"),onMenuInteraction:t=>this.onMenuInteraction(t),class:{"header-navigation":!0},ref:t=>requestAnimationFrame((()=>{this.navigationMenuItem=t,this.navigationMenuItem.connectedslot="dx-internal-navigation",this.menuItems.includes(this.navigationMenuItem)||this.menuItems.push(this.navigationMenuItem)}))})}render(){return[e("div",{class:"menu-bar"},e("slot",null),this.renderHeaderNavigation()),e("dx-sidebar",{open:this.showSidebar,onOpenChange:t=>this.showSidebar=t.detail},e("dx-content-switcher",{ref:t=>this.contentSwitcher=t},this.sidebarContentOutputs))]}get self(){return n(this)}static get watchers(){return{showSidebar:["onShowSidebarChanged"]}}};function y(t){return t.toLowerCase().startsWith("dx-header-")}function S(t){return t.notification||"no-number"===t.notifications||t.notifications>=1}w.style=":host{display:block;min-width:48px;max-height:100%}:host:host([hidden]){display:none !important}:host ::slotted(dx-header-menu-item),:host ::slotted(dx-header-app-favorites),:host ::slotted(dx-header-user),:host ::slotted(dx-header-navigation){z-index:1}:host dx-header-menu-item,:host dx-header-app-favorites,:host dx-header-user,:host dx-header-navigation{z-index:1}:host .menu-bar{width:100%;position:relative;display:flex;justify-content:flex-end}:host .menu-bar .header-navigation{z-index:1}";const C=class{constructor(i){t(this,i),this.type="bildmarke"}render(){return e(s,null,e(`dx-logo-${this.type}`,null))}get self(){return n(this)}};C.style=":host{display:inline-block;height:56px;line-height:0}:host:host([hidden]){display:none !important}";export{x as dx_header_application_name,w as dx_header_menu_bar,C as dx_logo}