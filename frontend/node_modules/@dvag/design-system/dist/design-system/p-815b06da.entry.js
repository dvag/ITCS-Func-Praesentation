import{r as t,c as i,f as s,h as e,H as n,g as o}from"./p-c66bef8d.js";import{B as a}from"./p-76fa4815.js";import{E as h}from"./p-70f48e14.js";import{c as r}from"./p-e0194d22.js";import{c as l}from"./p-aa0a06c6.js";import{o as d}from"./p-90458c1b.js";import{S as c}from"./p-968cb048.js";import{S as g}from"./p-1c7f0e27.js";import"./p-15b13381.js";import"./p-fabbcf47.js";const p=class{constructor(s){t(this,s),this.pageChange=i(this,"pageChange",7),this.useTransition=!0,this.children=[],this.swipeController=new g((()=>{var t;return{elementsBoundingBox:null===(t=this.elementsContainer)||void 0===t?void 0:t.getBoundingClientRect(),startAtPercentage:(this.page-1)/(this.getMaxPages()-1)*100}}),(()=>{this.pageOnSwipeDetectionStart=this.page,this.disableTransition()}),(t=>{this.enableTransition(),"left"===t?this.updateTranslationByPageNumber(this.pageOnSwipeDetectionStart-1):"right"===t?this.updateTranslationByPageNumber(this.pageOnSwipeDetectionStart+1):this.updateTranslationByPageNumber()}),(t=>{var i;const s=t.startValue.elementsBoundingBox,e=(null===(i=this.children[0])||void 0===i?void 0:i.offsetWidth)*this.children.length+this.spacebetween*(this.children.length-1);this.updateTranslationByPercentage(t.startValue.startAtPercentage+((t.startX-s.x)/e*100-(t.currentX-s.x)/e*100))})),this.page=1,this.initialpage=1,this.spacebetween=0,this.viewmode="paginator"}onPageChanged(){this.pageChange.emit(this.page)}connectedCallback(){var t;this.breakpointAware=new a((()=>{this.updateTranslationByPageNumber(),s(this)}),!0),this.page=null!==(t=this.initialpage)&&void 0!==t?t:1,this.slotObserver=new c(this.self,":scope > *",(t=>{var i;l(this.children,t)||(this.children=t,(null===(i=this.children)||void 0===i?void 0:i.length)>0&&(this.updateTranslationByPageNumber(),s(this)))}))}disconnectedCallback(){this.slotObserver.disconnect(),this.breakpointAware.disconnect()}setPage(t){if(this.page===t)return;t=r(t,1,this.getMaxPages());const i=300*Math.abs(t-this.page);return this.updateSlideTransitionDuration(i),this.updateTranslationByPageNumber(t),new Promise((t=>{setTimeout((()=>{this.updateSlideTransitionDuration(300),t()}),i)}))}updateSlideTransitionDuration(t){this.elementsContainer&&this.elementsContainer.style.setProperty("transition",`transform ${t}ms ease-in-out`)}getAmountOfDisplayedChildren(){return Math.min(this.breakpointAware.getEffectiveValue({mq1:this.mq1amount,mq2:this.mq2amount,mq3:this.mq3amount,mq4:this.mq4amount,mq5:this.mq5amount}),this.getNumberOfChildren())||1}getTransformValueByPercentage(t){const i=this.getMaxPages(),s=this.getAmountOfDisplayedChildren();return`translateX(calc((-${100/s}% - ${this.spacebetween/s}px) * ${(i-1)*t/100}))`}getMaxPages(){var t;return(null!==(t=this.getNumberOfChildren())&&void 0!==t?t:1)-this.getAmountOfDisplayedChildren()+1}getNumberOfChildren(){var t;return null===(t=this.children)||void 0===t?void 0:t.length}updateTranslationByPageNumber(t){const i=this.getMaxPages();let s;t=r(null!=t?t:this.page,1,i),s=1===i?100:(t-1)/(i-1)*100,this.updateTranslationByPercentage(s)}updateTranslationByPercentage(t){t=r(t,0,100),this.elementsContainer&&(this.elementsContainer.style.transform=this.getTransformValueByPercentage(t),this.page=Math.round(t/100*(this.getMaxPages()-1))+1)}renderNavigation(){if(this.getMaxPages()>1)return e("div",{class:"navigation"},this.renderNavigationElement())}renderNavigationElement(){return"paginator"===this.viewmode?e("dx-paginator",{count:this.getMaxPages(),current:this.page,onPageChanged:t=>{this.updateTranslationByPageNumber(t.detail)}}):e("dx-slideshow-slider",{max:this.getMaxPages(),value:this.page,onValueChange:t=>{this.useTransition?d((()=>this.updateTranslationByPageNumber(t.detail))):this.updateTranslationByPageNumber(t.detail)},onDragging:t=>{t.detail?this.disableTransition():this.enableTransition()}})}disableTransition(){this.useTransition=!1}enableTransition(){this.useTransition=!0}renderLeftNavigationButton(){return"paginator"===this.viewmode?null:e("div",{class:"stage-navigation-button left"},e("dx-button",{id:h.createId(this.self,"left-button"),class:{"navigation-button":!0,show:this.page>1},icon:"chevron-links",type:"primary-s",onClick:()=>{this.updateTranslationByPageNumber(this.page-1)}}))}renderRightNavigationButton(){return"paginator"===this.viewmode?null:e("div",{class:"stage-navigation-button right"},e("dx-button",{id:h.createId(this.self,"right-button"),class:{"navigation-button":!0,show:this.page<this.getMaxPages()},icon:"chevron-rechts",type:"primary-s",onClick:()=>{this.updateTranslationByPageNumber(this.page+1)}}))}render(){var t;if(null!=this.children&&0!==this.children.length)return e(n,{style:{"--dx-slide-show-amount":this.getAmountOfDisplayedChildren().toString(),"--dx-slide-show-space-between":null!==(t=`${this.spacebetween}px`)&&void 0!==t?t:"0"}},e("div",{class:"slide-show-container"},e("div",{class:"stage"},this.renderLeftNavigationButton(),e("div",{class:"overflow-container",onTouchStart:t=>this.swipeController.onTouchStart(t)},e("div",{class:{"elements-container":!0,"use-transition":this.useTransition},ref:t=>{const i=this.elementsContainer;this.elementsContainer=t,null==i&&this.updateTranslationByPageNumber()}},e("slot",null))),this.renderRightNavigationButton()),this.renderNavigation()))}get self(){return o(this)}static get watchers(){return{page:["onPageChanged"]}}};p.style=":host{max-width:100%}:host:host([hidden]){display:none !important}:host:host(:hover){--dx-slideshow-slider-knob-height:8px;--dx-slideshow-slider-knob-top:-2px}:host .slide-show-container .stage{display:flex;overflow:hidden}:host .slide-show-container .stage .overflow-container{flex:1;overflow:hidden}:host .slide-show-container .stage .overflow-container .elements-container{display:flex;position:relative;box-sizing:content-box}:host .slide-show-container .stage .overflow-container .elements-container.use-transition{transition:transform 300ms ease-in-out}:host .slide-show-container .stage .overflow-container .elements-container ::slotted(*){flex:0 0 calc(100% / var(--dx-slide-show-amount, 1) - ((var(--dx-slide-show-space-between, 0)) - (var(--dx-slide-show-space-between, 0)) / (var(--dx-slide-show-amount, 1))));position:relative;top:0;box-sizing:border-box}:host .slide-show-container .stage .overflow-container .elements-container ::slotted(*).hidden{display:none}:host .slide-show-container .stage .overflow-container .elements-container ::slotted(*).disable-transition{transition:none}:host .slide-show-container .stage .overflow-container .elements-container ::slotted(*:not(:last-child)){margin-right:var(--dx-slide-show-space-between, 0)}:host .slide-show-container .stage .stage-navigation-button{display:none;align-items:center}:host .slide-show-container .stage .stage-navigation-button.left{margin-right:16px}:host .slide-show-container .stage .stage-navigation-button.right{margin-left:16px}@media (min-width: 760px){:host .slide-show-container .stage .stage-navigation-button{display:flex}}:host .slide-show-container .stage .stage-navigation-button .navigation-button{z-index:0;transition:opacity 150ms ease-in-out;opacity:0;pointer-events:none}@media (min-width: 760px){:host .slide-show-container .stage .stage-navigation-button .navigation-button.show{opacity:1;z-index:1;pointer-events:all}}:host .slide-show-container .navigation{display:flex;justify-content:center}@media (min-width: 760px){:host .slide-show-container .navigation{padding:0 56px}}:host .slide-show-container .navigation dx-slideshow-slider,:host .slide-show-container .navigation dx-paginator{margin-top:40px}";export{p as dx_slide_show}