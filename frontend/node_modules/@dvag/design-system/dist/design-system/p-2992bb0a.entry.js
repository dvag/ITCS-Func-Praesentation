import{r as t,c as i,w as s,h as e,H as n,g as r}from"./p-c66bef8d.js";import{S as h}from"./p-968cb048.js";import{c as a}from"./p-aa0a06c6.js";import{o}from"./p-90458c1b.js";import"./p-fabbcf47.js";const c=class{constructor(s){t(this,s),this.valueChange=i(this,"valueChange",7),this.skipAnimation=!1}onValueChange(){var t,i;const s=this.getCurrentVisibleItemIndex(),e=null===(t=this.contentChildren)||void 0===t?void 0:t.findIndex((t=>t.visible));null===(i=this.contentChildren)||void 0===i||i.forEach(((t,i)=>{t.animatable=!this.skipAnimation,i===s?this.setVisible(t,i,e):this.setInvisible(t,i,s)})),this.skipAnimation=!1}connectedCallback(){this.slotObserver=new h(this.self,":scope > dx-content-switcher-item",(t=>{a(t,this.contentChildren)||(this.contentChildren=t,this.initializeValue(),this.prepareContentChildren())})),this.resizeObserver=new ResizeObserver((t=>{this.currentWidth=t[0].contentRect.width})),this.resizeObserver.observe(this.self)}disconnectedCallback(){var t;null===(t=this.slotObserver)||void 0===t||t.disconnect(),this.resizeObserver.disconnect()}getCurrentVisibleItemIndex(){var t;return null===(t=this.contentChildren)||void 0===t?void 0:t.findIndex((t=>t.value===this.value))}initializeValue(){var t,i;null!=(null===(t=this.contentChildren)||void 0===t?void 0:t.find((t=>t.value===this.value)))&&(this.value=null===(i=this.contentChildren[0])||void 0===i?void 0:i.value)}prepareContentChildren(){var t;const i=null===(t=this.contentChildren)||void 0===t?void 0:t.findIndex((t=>t.value===this.value));s((()=>{this.contentChildren.forEach(((t,s)=>{t.animatable=!1,s===i?this.setVisible(t,s,-1):(t.style.setProperty("visibility","hidden"),this.setInvisible(t,s,i))}))}))}async showValue(t,i=!0){null!=t&&this.value!==t&&(this.skipAnimation=!i,this.value=t,this.valueChange.emit(this.value))}render(){var t;return e(n,{style:{"--dx-content-switcher-width":`${null!==(t=this.currentWidth)&&void 0!==t?t:0}px`}},e("slot",null))}setVisible(t,i,s){i===this.contentChildren.length-1?t.visible=!0:0===i?(t.visible=!0,t.reverse=!0):(t.visible=!0,t.reverse=i<s)}setInvisible(t,i,s){i===this.contentChildren.length-1?t.visible=!1:0===i?(t.visible=!1,t.reverse=!0):(t.visible=!1,t.reverse=i<s)}get self(){return r(this)}static get watchers(){return{value:["onValueChange"]}}};c.style=":host{display:flex;position:relative;height:100%;max-width:100%;overflow:hidden}:host:host([hidden]){display:none !important}";const l=class{constructor(i){t(this,i),this.reverse=!1,this.animatable=!0}onReverseChange(){this.reverse=this.reverse&&this.animatable}onStateChanged(){this.visible&&(this.self.hidden=!1,this.self.style.removeProperty("visibility")),o((()=>{this.internalVisible=this.visible}))}connectedCallback(){this.internalVisible=this.visible}handleTransitionEnd(t){t.target===this.self&&"flex-basis"===t.propertyName&&(this.internalVisible?this.reverse=!1:this.self.style.setProperty("visibility","hidden"))}render(){return e(n,{onTransitionEnd:t=>this.handleTransitionEnd(t),class:{visible:this.internalVisible,animatable:this.animatable,reverse:this.reverse}},e("div",{class:"slot-wrapper"},e("slot",null)))}get self(){return r(this)}static get watchers(){return{reverse:["onReverseChange"],visible:["onStateChanged"]}}};l.style=".sc-dx-content-switcher-item-h{display:flex;flex:0 0 0;opacity:0;overflow:hidden}.sc-dx-content-switcher-item-h([hidden]).sc-dx-content-switcher-item-h{display:none !important}.animatable.sc-dx-content-switcher-item-h{transition:flex-basis, opacity;transition-timing-function:var(--dx-content-switcher-transition-timing-function, ease-in-out);transition-duration:var(--dx-content-switcher-transition-duration, 300ms), calc(var(--dx-content-switcher-transition-duration, 300ms) * 0.5);will-change:flex-basis, opacity}@media screen and (prefers-reduced-motion: reduce){.animatable.sc-dx-content-switcher-item-h{transition-duration:1ms !important;transition-delay:0ms !important}}.animatable.visible.sc-dx-content-switcher-item-h{transition-duration:var(--dx-content-switcher-transition-duration, 300ms);transition-delay:0ms, calc(var(--dx-content-switcher-transition-duration, 300ms) * 0.5)}.visible.sc-dx-content-switcher-item-h{opacity:1;flex:0 0 100%}.reverse.sc-dx-content-switcher-item-h{flex-direction:row-reverse}.sc-dx-content-switcher-item-h .slot-wrapper.sc-dx-content-switcher-item{flex:0 0 var(--dx-content-switcher-width)}";export{c as dx_content_switcher,l as dx_content_switcher_item}