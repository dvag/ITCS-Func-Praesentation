import{r as t,c as o,h as e,H as n,g as i}from"./p-c66bef8d.js";import{a as s}from"./p-dc250dcd.js";import{E as r}from"./p-70f48e14.js";import{c as l}from"./p-968cb048.js";import{f as a}from"./p-9e335670.js";import"./p-15b13381.js";import"./p-fabbcf47.js";const d=class{constructor(e){t(this,e),this.valueComplete=o(this,"valueComplete",7),this.internalOpen=!1}onItemSelectionChanged(t){const o=this.options.find((o=>{var e,n;return o.value===(null===(n=null===(e=t.detail)||void 0===e?void 0:e.selectedItems)||void 0===n?void 0:n[0])}));this.selectedOption=o}connectedCallback(){this.optionsObserver=l(this.self,"dx-dropdown-option",(async t=>{await this.collectOptions(t);const o=a(this.options.filter((t=>!t.isSeparator)));s(0==o.length,(()=>`It is not allowed for multiple 'dx-dropdown-option' elements to share the same value!\nFollowing duplicated value were found: ${o.join()}`),this.self)}))}disconnectedCallback(){var t;null===(t=this.optionsObserver)||void 0===t||t.disconnect()}async collectOptions(t){this.options=await Promise.all(t.map((t=>t.toOption())))}onInputKeyDown(t){const o=this.self.shadowRoot.querySelector("dx-list-flyout");t.target===o||t.composedPath().includes(o)||(["ArrowDown","ArrowUp","Space"].includes(t.code)&&t.preventDefault(),this.internalOpen?null==o||o.dispatchEvent(new t.constructor(t.type,t)):["ArrowDown","ArrowUp","Space"].includes(t.code)&&(this.internalOpen=!0))}onInputKeyUp(t){["Enter","Escape"].includes(t.code)&&this.closeListAndEmitSelectedOption(this.selectedOption)}closeListAndEmitSelectedOption(t){this.internalOpen=!1,this.valueComplete.emit(t),this.label=t.label}renderItemList(){var t;return null===(t=this.options)||void 0===t?void 0:t.map(((t,o)=>e("dx-list-item",{id:r.createId(this.self,`list-item-${o}`),type:"selectable",value:t.value,label:t.label,icon:t.icon,onClick:()=>this.closeListAndEmitSelectedOption(t),selected:this.selectedOption===t})))}renderBaseSlot(){return e("button",{onClick:()=>this.internalOpen=!this.internalOpen,slot:"base",class:{"base-component":!0}},this.renderCurrentValue(),this.renderOpenListButton())}renderOpenListButton(){return e("div",{class:{"open-list-button":!0,"list-open":this.internalOpen}},e("dx-chevron",{class:"chevron",directiontop:this.internalOpen}))}renderCurrentValue(){return e("div",{class:{"current-value":!0}},e("dx-text",null,this.label),e("div",{class:"golden-line-container"},e("div",{class:"golden-line"})))}render(){return e(n,{onKeyDown:t=>this.onInputKeyDown(t),onKeyUp:t=>this.onInputKeyUp(t),tabIndex:0},e("dx-list-flyout",{class:"list-flyout",itemsvisible:5.5,size:"m",selectionmode:"single",open:this.internalOpen},this.renderBaseSlot(),this.renderItemList()))}get self(){return i(this)}};d.style=":host{outline:none;width:100%}:host .list-flyout{outline:none}:host .list-flyout .base-component{width:var(--dx-button-width, fit-content);width:var(--dx-button-width, -moz-fit-content);cursor:pointer;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;white-space:nowrap;user-select:none;-webkit-user-select:none;border:none;margin:0;background-color:transparent;transition:background-color 150ms ease-in-out, border-color 150ms ease-in-out;outline-offset:2px;width:100%;display:flex;user-select:none;cursor:pointer;padding:0}:host .list-flyout .base-component[disabled]{cursor:unset}:host .list-flyout .base-component.icon-right{flex-direction:row-reverse}:host .list-flyout .base-component:focus-visible{outline:2px solid #004763}:host .list-flyout .base-component .current-value{width:100%;display:flex;flex:1;align-items:center;align-self:stretch;padding-left:16px;position:relative;border-left:var(--dx-tab-dropdown-current-value-border-left, none);border-right:var(--dx-tab-dropdown-current-value-border-right, none);border-top:var(--dx-tab-dropdown-current-value-border-top, none)}:host .list-flyout .base-component .current-value .golden-line-container{position:absolute;bottom:0;left:0;width:100%;padding-left:var(--dx-tab-dropdown-golden-line-container-padding-left, 0);padding-right:var(--dx-tab-dropdown-golden-line-container-padding-right, 0);box-sizing:border-box}:host .list-flyout .base-component .current-value .golden-line-container .golden-line{position:relative;height:3px;width:100%;background-color:#c8aa22}:host .list-flyout .base-component .open-list-button{flex:0 0 64px;border-bottom:var(--dx-tab-dropdown-open-list-button-border-bottom, 1px solid #d6d6d6);height:64px;display:flex;align-items:center;justify-content:center}:host .list-flyout .base-component .open-list-button.list-open{background-color:rgba(0, 0, 0, 0.07) !important}@media not all and (pointer: coarse){:host .list-flyout .base-component:hover>.open-list-button{background-color:rgba(0, 0, 0, 0.03)}}:host:host(:active) .list-flyout .base-component .open-list-button{background-color:rgba(0, 0, 0, 0.07)}";export{d as dx_tab_dropdown}