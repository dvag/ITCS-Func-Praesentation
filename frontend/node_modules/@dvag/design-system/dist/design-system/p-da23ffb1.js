import{D as t}from"./p-00a889bb.js";import{V as e}from"./p-15b13381.js";class s{constructor(){this.headerSubject=new t,this.headerHeightSubject=new t,this.headerVisibilitySubject=new t,this.scrollInteractionEnabled=!0}static instance(){return e.instance().getOrPut("dx-header-service",(()=>new s))}get header$(){return this.headerSubject}get header(){return this.headerSubject.value}set header(t){var e;if(this.headerSubject.value!==t){if(this.headerSubject.next(t),null==t)return void(null===(e=this.headerResizeObserver)||void 0===e||e.disconnect());this.headerResizeObserver=new ResizeObserver((()=>{this.headerHeightSubject.next(this.headerSubject.value.offsetHeight)})),this.headerResizeObserver.observe(t)}}unsetHeaderElement(t){this.header===t&&(this.header=null)}get headerHeight$(){return this.headerHeightSubject}get headerHeight(){var t;return null!==(t=this.headerHeightSubject.value)&&void 0!==t?t:0}get isVisible(){return this.headerVisibilitySubject.value}set isVisible(t){this.isVisible!=t&&this.headerVisibilitySubject.next(t)}get isVisible$(){return this.headerVisibilitySubject}get isScrollInteractionEnabled(){return this.scrollInteractionEnabled}disableScrollInteractionForMs(t){return clearTimeout(this.disableScrollInteractionTimeoutHandle),new Promise((e=>{this.scrollInteractionEnabled=!1,this.disableScrollInteractionTimeoutHandle=setTimeout((()=>{this.scrollInteractionEnabled=!0,e()}),t)}))}}function i(t){const e=s.instance(),i=()=>t(e.headerHeight,e.isVisible),r=e.isVisible$.subscribe((()=>i())),n=e.headerHeight$.subscribe((()=>i()));return{unsubscribe:()=>{r.unsubscribe(),n.unsubscribe()}}}export{s as H,i as s}