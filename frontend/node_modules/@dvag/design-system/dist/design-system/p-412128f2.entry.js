import{r as t,h as e,H as i,g as s}from"./p-c66bef8d.js";import{a as l}from"./p-dc250dcd.js";import{v as n,E as o}from"./p-70f48e14.js";import{d as h}from"./p-aa0a06c6.js";import{B as r}from"./p-76fa4815.js";import"./p-15b13381.js";const a=class{constructor(e){t(this,e),this.tableScrollChanged=t=>{this.tableScrollable=t.detail},this.sortable=!1,this.align=null,this.sortpriority=null,this.linesize="s",this.usemaxwidth=!1,this.sticky=!1,this.sortState="neutral",this.internAlign=null,this.tableScrollable=!1,this.mediaQueryAllowsStickyness=!1}onSortableChange(){this.sortable&&n(this.self)}onCustomSortChanged(){"neutral"!==this.sortState&&this.invokeSort(this.sortState)}onChangeAlign(){this.internAlign=this.getAlignment()}connectedCallback(){this.breakpointAware=new r((()=>this.updateMediaQueryStickyness()),!0),this.table=h(this.self,"dx-table"),this.table.addEventListener("internalScrollChanged",this.tableScrollChanged),this.tableScrollable=this.table.internalScrollable,this.updateMediaQueryStickyness()}disconnectedCallback(){this.table.removeEventListener("internalScrollChanged",this.tableScrollChanged),this.table=null,this.breakpointAware.disconnect()}componentWillLoad(){this.internAlign=this.getAlignment(),l(!(!this.label&&!this.columnid&&this.sortable),(()=>"Sortable columns should define 'columnid' or 'label' properties. This is important for the table to differentiate between the columns."),this.self),this.sortable&&n(this.self)}async setSortDirection(t){this.invokeSort(t)}async toColumnSettings(){return{type:this.type,align:this.internAlign,lines:this.getCellLines(),sizeStyle:this.buildStyle(),sticky:this.sticky}}async getMinWidth(){return this.internalGetMinWidth()}async getMaxWidth(){return this.internalGetMaxWidth()}updateMediaQueryStickyness(){this.mediaQueryAllowsStickyness=this.breakpointAware.getEffectiveValue({mq1:!1,mq3:!0})}getCellLines(){var t;return{s:1,m:2,l:3}[null!==(t=this.linesize)&&void 0!==t?t:"s"]}buildStyle(){const t=this.internalGetMinWidth(),e=this.internalGetMaxWidth(),i={"max-width":isNaN(e)?"100%":e+"px","min-width":t+"px"};if(this.usemaxwidth){const t=this.internalGetMaxWidth();i.width=t,i.flex=`0 0 ${t}`}return i}internalGetMinWidth(){return this.minwidth||this.maxwidth||0}internalGetMaxWidth(){return this.isSticky()?this.internalGetMinWidth():null!=this.maxwidth?this.maxwidth:this.usemaxwidth?this.internalGetMinWidth():NaN}getAlignment(){var t;return null!==(t=this.align)&&void 0!==t?t:"currency"===this.type||"numeric"===this.type?"right":"left"}getSortIcon(){return"neutral"===this.sortState?"verteilen-vertik":"asc"===this.sortState?"pfeil-hoch":"pfeil-runter"}getHeaderCellLines(){return this.useMultipleLines()?2:1}useMultipleLines(){return/\s|\xAD/.test(this.label)}isSticky(){return this.sticky&&this.tableScrollable&&this.mediaQueryAllowsStickyness}render(){const t={};return t["align-"+this.internAlign]=!0,e(i,{slot:this.sticky?"sticky":void 0,style:this.buildStyle(),class:t,role:"columnheader"},e("button",{id:o.createId(this.self,"sort-button"),type:"button",disabled:!this.sortable,onClick:()=>this.invokeSort(),class:"header"},e("div",{class:Object.assign({cell:!0},t)},e("div",{class:"label-container"},e("div",{class:{label:!0,"multiple-lines":this.useMultipleLines()},style:{"-webkit-line-clamp":`${this.getHeaderCellLines()}`}},this.renderLabel(),e("slot",null)),this.renderSortButton()))))}renderLabel(){if(null!=this.label)return e("dx-text",{type:"ps",color:"neutral"!==this.sortState?"default":"gray-50"},this.label)}renderSortButton(){if(this.sortable)return e("dx-icon",{class:"sort-icon",icon:this.getSortIcon(),color:"default",size:16})}getNextSortState(){return"neutral"==this.sortState?"asc":"asc"===this.sortState?"desc":"asc"}invokeSort(t){this.sortable&&(this.sortState=null!=t?t:this.getNextSortState(),"neutral"!==this.sortState)&&this.getParentTable().invokeSort(this.self,"desc"===this.sortState).then()}getParentTable(){return this.self.closest("dx-table")}get self(){return s(this)}static get watchers(){return{sortable:["onSortableChange"],customSort:["onCustomSortChanged"],align:["onChangeAlign"]}}};a.style=":host{overflow:hidden;display:flex;flex:1;padding-top:8px;padding-bottom:8px}:host:host([hidden]){display:none !important}:host:host(.align-left){justify-content:flex-start}:host:host(.align-right){justify-content:flex-end}:host:host(.align-center){justify-content:center}:host .sort-icon{cursor:pointer;margin-left:4px;flex:0 0 16px}:host .header{width:100%;overflow:hidden;width:auto;text-align:left;height:100%;border:none;text-decoration:none;background:none;padding:4px 0;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;outline:none}:host .header .cell{font-family:DVAG-Type, sans-serif;color:#2b2b2b;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding:0 16px}:host .header .cell.multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--dx-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host .header .cell.align-left{text-align:start}:host .header .cell.align-right{text-align:end}:host .header .cell.align-center{text-align:center}:host .header .cell dx-text{overflow:hidden;text-overflow:ellipsis}:host .header .cell ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host .header:host(.cell){font-family:DVAG-Type, sans-serif;color:#2b2b2b;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding:0 16px}:host .header:host(.cell).multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--dx-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host .header:host(.cell).align-left{text-align:start}:host .header:host(.cell).align-right{text-align:end}:host .header:host(.cell).align-center{text-align:center}:host .header:host(.cell) dx-text{overflow:hidden;text-overflow:ellipsis}:host .header:host(.cell) ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host .header[disabled]{cursor:default}:host .header:focus-visible{outline:2px solid #004763;outline-offset:-2px}:host .header .cell .label-container{display:flex;align-items:center}:host .header .cell .label-container .label{flex:1;display:flex;overflow:hidden;text-overflow:ellipsis}:host .header .cell .label-container .label.multiple-lines{display:-webkit-box;-webkit-box-orient:vertical;white-space:break-spaces}";export{a as dx_table_header_item}