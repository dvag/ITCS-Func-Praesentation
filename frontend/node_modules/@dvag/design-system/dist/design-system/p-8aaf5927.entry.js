import{r as e,h as t,H as i,g as s}from"./p-c66bef8d.js";import{a as l}from"./p-dc250dcd.js";import{v as o,E as n}from"./p-70f48e14.js";import"./p-15b13381.js";const r=class{constructor(t){e(this,t),this.sortable=!1,this.align=null,this.sortpriority=null,this.linesize="s",this.usemaxwidth=!1,this.sortState="neutral",this.internAlign=null}onSortableChange(){this.sortable&&o(this.self)}onCustomSortChanged(){"neutral"!==this.sortState&&this.invokeSort(this.sortState)}onChangeAlign(){this.internAlign=this.getAlignment()}componentWillLoad(){this.internAlign=this.getAlignment(),l(!(!this.label&&!this.columnid&&this.sortable),(()=>"Sortierbare Spalten sollten die Eigenschaft 'columnid' oder 'label', zur Unterscheidung, definieren.")),this.sortable&&o(this.self)}async setSortDirection(e){this.invokeSort(e)}async toColumnSettings(){return{type:this.type,align:this.internAlign,lines:this.getCellLines(),sizeStyle:this.buildStyle()}}getCellLines(){var e;return{s:1,m:2,l:3}[null!==(e=this.linesize)&&void 0!==e?e:"s"]}buildStyle(){const e={"max-width":this.getMaxWidth(),"min-width":this.getMinWidth()};if(this.usemaxwidth){const t=this.getMaxWidth();e.width=t,e.flex=`0 0 ${t}`}return e}getMinWidth(){return(this.minwidth||this.maxwidth)+"px"}getMaxWidth(){return(this.maxwidth||this.minwidth)+"px"}getAlignment(){var e;return null!==(e=this.align)&&void 0!==e?e:"currency"===this.type||"numeric"===this.type?"right":"left"}getSortIcon(){return"neutral"===this.sortState?"sortieren":"asc"===this.sortState?"sortieren-aufsteigend":"sortieren-absteigend"}getHeaderCellLines(){return this.useMultipleLines()?2:1}useMultipleLines(){return/\s|\xAD/.test(this.label)}render(){const e={};return e["align-"+this.internAlign]=!0,t(i,{style:this.buildStyle(),class:e,role:"columnheader"},t("button",{id:n.createId(this.self,"sort-button"),type:"button",disabled:!this.sortable,onClick:()=>this.invokeSort(),class:"header"},t("div",{class:Object.assign({cell:!0},e)},t("div",{class:"label-container"},t("div",{class:{label:!0,"multiple-lines":this.useMultipleLines()},style:{"-webkit-line-clamp":`${this.getHeaderCellLines()}`}},this.renderLabel(),t("slot",null)),this.renderSortButton()))))}renderLabel(){if(null!=this.label)return t("ds-text",{type:"it",color:"neutral"!==this.sortState?"gold":void 0},this.label)}renderSortButton(){if(this.sortable)return t("ds-icon",{class:"sort-icon",icon:this.getSortIcon(),size:16})}getNextSortState(){return"neutral"==this.sortState?"asc":"asc"===this.sortState?"desc":"asc"}invokeSort(e){this.sortable&&(this.sortState=null!=e?e:this.getNextSortState(),"neutral"!==this.sortState)&&this.getParentTable().invokeSort(this.self,"desc"===this.sortState).then()}getParentTable(){return this.self.closest("ds-table")}get self(){return s(this)}static get watchers(){return{sortable:["onSortableChange"],customSort:["onCustomSortChanged"],align:["onChangeAlign"]}}};r.style=':host{margin-right:16px;overflow:hidden;display:flex;flex:1;padding-top:8px;padding-bottom:8px}:host:host([hidden]){display:none !important}:host:first-child{padding-left:16px}:host:host(:first-child){padding-left:16px}:host:last-child{margin-right:0;padding-right:16px}:host:host(:host:last-child){margin-right:0;padding-right:16px}:host:host(.align-left){justify-content:flex-start}:host:host(.align-right){justify-content:flex-end}:host:host(.align-center){justify-content:center}:host .sort-icon{cursor:pointer;margin-left:4px;flex:0 0 16px}:host .header{width:100%;overflow:hidden;width:auto;text-align:left;height:100%;border:none;border-radius:4px;text-decoration:none;background:none;padding:4px 0;cursor:pointer;transition:background 250ms ease-in-out;-webkit-appearance:none;-moz-appearance:none;outline:none}:host .header .cell{font-family:"Helvetica Neue", "Helvetica Neue LT W01";color:#666666;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding-left:8px;padding-right:8px}:host .header .cell.multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--ds-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host .header .cell.align-left{text-align:start}:host .header .cell.align-right{text-align:end}:host .header .cell.align-center{text-align:center}:host .header .cell ds-text{overflow:hidden;text-overflow:ellipsis}:host .header .cell ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host .header:host(.cell){font-family:"Helvetica Neue", "Helvetica Neue LT W01";color:#666666;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding-left:8px;padding-right:8px}:host .header:host(.cell).multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--ds-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host .header:host(.cell).align-left{text-align:start}:host .header:host(.cell).align-right{text-align:end}:host .header:host(.cell).align-center{text-align:center}:host .header:host(.cell) ds-text{overflow:hidden;text-overflow:ellipsis}:host .header:host(.cell) ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host .header[disabled]{cursor:default}:host .header:focus{background-color:#ebebeb !important;--ds-text-color:colors.$anthrazit}:host .header .cell .label-container{display:flex;align-items:center}:host .header .cell .label-container .label{flex:1;display:flex;overflow:hidden;text-overflow:ellipsis}:host .header .cell .label-container .label.multiple-lines{display:-webkit-box;-webkit-box-orient:vertical;white-space:break-spaces}';export{r as ds_table_header_item}