import{r as t,h as e,H as i,g as l}from"./p-c66bef8d.js";import{C as o}from"./p-e5e316fc.js";import{d as n}from"./p-ac26d544.js";import"./p-dc250dcd.js";const s=class{constructor(e){t(this,e),this.touchDetected=!1,this.tooltipText="",this.showTooltip=!1}onShowTooltipChanged(){this.showTooltip&&this.updateTooltipText()}async obtainSettings(t){this.settings=t}updateTooltipText(){requestAnimationFrame((()=>{var t;const e=this.self.shadowRoot.querySelector(".cell");this.tooltipText=(null===(t=(null==e?void 0:e.textContent)||this.self.textContent)||void 0===t?void 0:t.trim())||this.value}))}getInnerElement(){var t,i,l,o;const s=null!==(t=this.type)&&void 0!==t?t:null===(i=this.settings)||void 0===i?void 0:i.type;if(null==s)return e("div",null);if("html"===s)return e("div",{class:"html-alignment-container"},e("div",{class:"overflow-container"},e("slot",null)));if("text"===s)return this.renderCellText(this.value);if("numeric"===s){const t=null===(l=parseFloat(this.value))||void 0===l?void 0:l.toLocaleString("de-DE");return this.renderCellText(t)}if("currency"===s){const t=n(parseFloat(this.value),2);return this.renderCellText(`${t} â‚¬`)}if("date"===s){const t=null===(o=this.value)||void 0===o?void 0:o.split("-");return this.renderCellText(null!=t?`${t[2]}.${t[1]}.${t[0]}`:"")}}renderCellText(t){return e("div",{class:"overflow-container"},e("dx-text",null,t))}handleContextMenu(t){t.preventDefault(),this.showTooltip=!0}getStyle(){var t,e;const i=Object.assign({},null===(t=this.settings)||void 0===t?void 0:t.sizeStyle);null!=this.color&&(i["background-color"]=new o(!0).getColorCode(this.color));const l=null===(e=this.settings)||void 0===e?void 0:e.lines;return i["--dx-table-cell-lines"]=null!=l?l:1,l>1&&(i["padding-top"]="8px",i["padding-bottom"]="8px"),i}getAlign(){var t;return this.align||(null===(t=this.settings)||void 0===t?void 0:t.align)}render(){var t,l;const o={};return(this.align||null!=this.settings)&&(o["align-"+this.getAlign()]=!0),e(i,{role:"cell",style:this.getStyle(),slot:(null===(t=this.settings)||void 0===t?void 0:t.sticky)?"sticky":void 0},e("div",{class:Object.assign({cell:!0,"multiple-lines":(null===(l=this.settings)||void 0===l?void 0:l.lines)>1},o),title:this.tooltipText,onTouchStart:()=>this.touchDetected=!0,onContextMenu:t=>{this.touchDetected&&(this.handleContextMenu(t),this.touchDetected=!1)}},this.getInnerElement()),this.renderPopup(o))}renderPopup(t){var i;if(!(this.showTooltip&&(null===(i=this.tooltipText)||void 0===i?void 0:i.length)>0))return;const l=this.getAlign();return e("div",{class:Object.assign({"popup-container":!0},t)},e("div",{class:"overlay",onTouchEnd:t=>{t.stopPropagation(),t.preventDefault(),this.showTooltip=!1}}),e("dx-popup",{arrowposition:"center"!==l&&null!=l?l:"left",show:!0},e("dx-text",null,this.tooltipText)))}get self(){return l(this)}static get watchers(){return{showTooltip:["onShowTooltipChanged"]}}};s.style=":host{width:100%;overflow:hidden;position:relative;display:flex;align-items:center;align-self:stretch;flex:1;pointer-events:none}:host:host([hidden]){display:none !important}:host .cell{font-family:DVAG-Type, sans-serif;color:#2b2b2b;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding:0 16px}:host .cell.multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--dx-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host .cell.align-left{text-align:start}:host .cell.align-right{text-align:end}:host .cell.align-center{text-align:center}:host .cell dx-text{overflow:hidden;text-overflow:ellipsis}:host .cell ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host:host(.cell){font-family:DVAG-Type, sans-serif;color:#2b2b2b;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;padding:0 16px}:host:host(.cell).multiple-lines{display:-webkit-box;-webkit-line-clamp:var(--dx-table-cell-lines, 1);-webkit-box-orient:vertical;white-space:break-spaces}:host:host(.cell).align-left{text-align:start}:host:host(.cell).align-right{text-align:end}:host:host(.cell).align-center{text-align:center}:host:host(.cell) dx-text{overflow:hidden;text-overflow:ellipsis}:host:host(.cell) ::slotted(*){overflow:hidden;text-overflow:ellipsis}:host .popup-container{position:absolute;width:100%;bottom:0}:host .popup-container.align-right{right:0;--dx-popup-offset-right:0px;--dx-popup-offset-left:initial}:host .popup-container.align-center{left:50%;--dx-popup-offset-left:-10px}:host .popup-container .overlay{position:fixed;z-index:1110;left:0;top:0;right:0;bottom:0;background-color:#666666;transition:opacity 300ms ease-in-out;opacity:0.6;opacity:0;pointer-events:all}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}:host .popup-container dx-popup{z-index:1111;animation:fade-in 400ms ease-in-out;animation-iteration-count:1}:host .cell .html-alignment-container{display:flex}:host .cell .overflow-container{width:100%;pointer-events:all}:host .cell:not(.multiple-lines) .overflow-container{display:flex;overflow:hidden}:host .cell.align-left .html-alignment-container,:host .cell.align-left .overflow-container{justify-content:flex-start}:host .cell.align-right .html-alignment-container,:host .cell.align-right .overflow-container{justify-content:flex-end}:host .cell.align-center .html-alignment-container,:host .cell.align-center .overflow-container{justify-content:center}";export{s as dx_table_cell}