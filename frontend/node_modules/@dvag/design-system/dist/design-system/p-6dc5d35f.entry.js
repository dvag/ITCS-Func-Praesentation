import{r as e,c as t,h as i,H as s,g as l}from"./p-c66bef8d.js";import{a as o}from"./p-dc250dcd.js";import{v as r,E as a}from"./p-70f48e14.js";import{R as h}from"./p-4de2e84c.js";import{E as n}from"./p-3f966ea5.js";import{I as d}from"./p-38e28938.js";import"./p-15b13381.js";const c=class{constructor(i){e(this,i),this.valueChange=t(this,"valueChange",7),this.valueComplete=t(this,"valueComplete",7),this.inputFocused=!1,this.internalValue="",this.error=!1,this.lines=4,this.value="",this.disabled=!1,this.readonly=!1,this.required=!1}valueChanged(){this.obtainValueChangesFromOutside()}async focusControl(){this.inputElement.focus()}componentWillLoad(){r(this.self),this.obtainValueChangesFromOutside(!0)}obtainValueChangesFromOutside(e=!1){(e||this.value!==this.internalValue)&&(this.internalValue=this.value,this.lastEmittedChangeValue=this.value,this.lastEmittedCompleteValue=this.value)}onInputFocused(){this.inputFocused=!0}onInputBlurred(){this.inputFocused=!1,this.emitValueChange(),this.emitValueComplete()}onInputKeyUp(e){this.internalValue=e.target.value,this.emitValueChange()}emitValueChange(){this.value=this.internalValue,this.lastEmittedChangeValue!==this.value&&(this.valueChange.emit(this.value),this.lastEmittedChangeValue=this.value)}emitValueComplete(){this.lastEmittedCompleteValue!==this.value&&(this.valueComplete.emit(this.value),this.lastEmittedCompleteValue=this.value)}render(){return this.readonly?i(h,{text:this.value,label:this.label}):i(s,null,this.renderInput())}renderInput(){var e,t;o(null==this.maxlength||this.maxlength>0,(()=>"<ds-text-area> 'maxlength' sollte nicht kleiner als 1 sein. ")),o(null==this.maxlength||this.maxlength>this.value.length,(()=>"<ds-text-area> 'value' darf nicht größer als 'maxlength' sein")),o(this.lines>0,(()=>"<ds-text-area> 'lines' muss größer als 0 sein"));const s=(null===(e=this.errormessage)||void 0===e?void 0:e.length)>0||this.error,l=(null===(t=this.value)||void 0===t?void 0:t.length)>0;return i("label",null,i("ds-input-label",{disabled:this.disabled,label:this.label}),i(d,{active:this.inputFocused,error:s,required:this.required,requirementFulfilled:l,disabled:this.disabled,title:this.value},i("ds-scroll-container",{style:{height:`${b+this.lines*p}px`},scrollbarspace:8},i("textarea",{id:a.createId(this.self,"control"),onKeyUp:e=>this.onInputKeyUp(e),onFocus:()=>this.onInputFocused(),onBlur:()=>this.onInputBlurred(),ref:e=>this.inputElement=e,placeholder:"Bitte geben Sie hier Ihren Text ein ...",value:this.internalValue,maxLength:this.maxlength>0?this.maxlength:void 0,disabled:this.disabled})),i(n,{text:this.errormessage,show:this.inputFocused})),this.renderRemainingLetters(),i("ds-required-hint",{required:this.required,fulfilled:l}))}renderRemainingLetters(){if(this.maxlength>0)return i("div",{class:"remaining-letters"},i("ds-text",{type:"itk"},this.maxlength-this.internalValue.length," Zeichen verbleibend"))}get self(){return l(this)}static get watchers(){return{value:["valueChanged"]}}},b=16,p=22;c.style=':host{display:block}:host:host([hidden]){display:none !important}:host:host([label]:not([label=""])){--ds-info-button-offset-y:24px}:host label{display:block}:host label>div.container{position:relative;top:0;left:0;display:flex;height:38px;border-radius:4px;border:1px solid #c1c1c1;background-color:#ffffff;box-sizing:border-box;align-items:center;display:block;height:auto}:host label>div.container.required-outline{border-color:#e8b50e}:host label>div.container.requirement-fulfilled{border-color:#c1c1c1}:host label>div.container.red-outline{border-color:#be1413}:host label>div.container.disabled-outline{border-color:#ebebeb}:host label>div.container.active{border-color:#4c4c4c}:host label>div.container textarea{resize:none;outline:none;scrollbar-width:none;overflow:auto;-ms-overflow-style:none;border:none;margin:8px;flex-grow:1;font-size:16px;font-weight:normal;letter-spacing:0.02px;line-height:22px;padding:0;font-family:"Helvetica Neue", "Helvetica Neue LT W01";color:#4c4c4c}:host label>div.container textarea::placeholder{color:#c1c1c1}:host label>div.container textarea:disabled{background-color:#ffffff;color:#dedede}:host label>div.container textarea::-webkit-scrollbar{display:none}:host label .remaining-letters{display:flex;justify-content:flex-end;margin-top:6px;padding-right:8px}ds-text{white-space:pre-line;word-break:break-word}';export{c as ds_text_area}