import{r as t,c as o,h as e,H as i,g as a}from"./p-c66bef8d.js";import{b as n}from"./p-dc250dcd.js";import{v as l,E as s}from"./p-70f48e14.js";import{M as d}from"./p-b6113267.js";import{P as h}from"./p-602d2bf7.js";import{i as m}from"./p-90458c1b.js";import"./p-15b13381.js";import"./p-aa0a06c6.js";const r=class{constructor(e){t(this,e),this.modalOpened=o(this,"modalOpened",7),this.modalClosed=o(this,"modalClosed",7),this.state="closed",this.width="l",this.scrollHandler=()=>{this.controlOpticalHints()}}visibleChanged(){this.visibilityChanged()}componentWillLoad(){l(this.self),this.visibilityChanged()}disconnectedCallback(){d.instance().unblock(this.self)}componentDidRender(){const t=d.instance();this.visible?t.block(this.self,this.scrollableElement):t.unblock(this.self)}visibilityChanged(){this.visible&&"opening"!==this.state?(this.state="opening",this.modalOpened.emit()):this.visible||"closed"===this.state||this.handleClosing()}onLayoutAnimationEnd(){"opening"===this.state?this.state="opened":"closing"===this.state&&(this.state="closed")}handleClosing(){this.visible=!1,this.state="closing"}closeModal(t){let o=!0;this.modalClosed.emit({reason:t,preventCloseModal:()=>{o=!1}}),o&&this.handleClosing()}closeModalOnClickOutside(t){t.composedPath().includes(this.modalDialog)||this.closeModal("background")}setScrollContainer(t){var o,e;null===(o=this.scrollableElement)||void 0===o||o.removeEventListener("scroll",this.scrollHandler),this.scrollableElement=t,null===(e=this.scrollableElement)||void 0===e||e.addEventListener("scroll",this.scrollHandler)}controlOpticalHints(){if(!this.scrollableElement)return;const t=this.scrollableElement.scrollTop,o=this.scrollableElement.scrollHeight-this.scrollableElement.clientHeight,e=t>=o||t>0,i=0==t||t<o;requestAnimationFrame((()=>{new h(this.topShadowElement).set("visible",e).execute(),new h(this.bottomShadowElement).set("visible",i).execute()}))}getDefinedHeight(){const t=parseInt(this.height);return isNaN(t)?void 0:`${t}px`}render(){n("dx-modal","height",this.height,(()=>["fullscreen","content","internal-site-navigation-menu"].includes(this.height)||!isNaN(parseInt(this.height))));const t=(m(this.self,c)?1:0)+(m(this.self,p)?1:0),o=this.getDefinedHeight();return e(i,{style:{"--dx-modal-height":o},class:{"size-fullscreen":"fullscreen"===this.height,"size-content":"content"===this.height,"size-site-navigation-menu":"internal-site-navigation-menu"===this.height,"size-defined":null!=o,"state-closed":"closed"===this.state,"state-opened":"opened"===this.state,"state-opening":"opening"===this.state,"state-closing":"closing"===this.state}},e("div",{class:"overlay"}),e("div",{class:"modal-layout",onClick:t=>this.closeModalOnClickOutside(t),onAnimationEnd:()=>this.onLayoutAnimationEnd()},e("div",{ref:t=>this.modalDialog=t,class:{"modal-element":!0,"width-s":"s"===this.width,"width-m":"m"===this.width,"width-l":"l"===this.width,"width-xl":"xl"===this.width,"width-xxl":"xxl"===this.width,"width-site-navigation":"internal-site-navigation-menu"===this.width}},this.renderHeader(),this.renderContent(t),this.renderFooter(t))))}renderHeader(){return e("div",{class:"header"},e("div",{class:"header-content"},e("div",null,e("dx-text",{type:"ps"},this.label)),e("div",{class:"header-side"},e("dx-icon",{onClick:()=>this.closeModal("button"),id:s.createId(this.self,"close-button"),icon:"schliessen",size:24,color:"default"}))),e("div",{class:"header-border"}))}renderContent(t){return e("div",{class:"modal-content"},e("div",{class:{topShadow:!0},ref:t=>this.topShadowElement=t}),e("ds-scroll-container",{scrollbaroffset:4,scrollbarwidth:8,thumbwidth:8,scrollbarmargin:8,scrollbarborderradius:0},e("div",{ref:t=>{this.scrollableElement=t,this.setScrollContainer(t)},class:{content:!0,"no-footer":0===t}},e("slot",{name:"content"}))),e("div",{class:{bottomShadow:!0},ref:t=>this.bottomShadowElement=t}))}renderFooter(t){return e("div",{class:{footer:!0,visible:t>0,"one-slot":1===t,"two-slots":2===t}},e("div",{class:"footer-border"}),e("div",{class:"footer-content"},e("div",{class:"footer-left-content"},e("slot",{name:p})),e("div",{class:"footer-right-content"},e("slot",{name:c}))))}get self(){return a(this)}static get watchers(){return{visible:["visibleChanged"]}}},c="primary-actions",p="secondary-actions";r.style=":host{display:block}:host:host([hidden]){display:none !important}:host .overlay{position:fixed;z-index:1001;left:0;top:0;bottom:0;right:0;background-color:rgba(87, 87, 87, 0.6);transition:background-color 300ms ease-in-out}:host .modal-layout{position:fixed;z-index:1001;left:0;top:0;bottom:0;right:0;display:flex;justify-content:center;align-items:flex-start}@media (min-width: 760px){:host .modal-layout{--dx-page-padding:16px;padding:24px var(--dx-page-padding)}}@media (min-width: 760px) and (min-width: 476px){:host .modal-layout{--dx-page-padding:24px}}@media (min-width: 760px) and (min-width: 760px){:host .modal-layout{--dx-page-padding:32px}}@media (min-width: 760px) and (min-width: 1280px){:host .modal-layout{--dx-page-padding:40px}}@media (min-width: 760px) and (min-height: 400px){:host .modal-layout{padding-top:32px;padding-bottom:32px}}@media (min-width: 760px) and (min-height: 800px){:host .modal-layout{padding-top:80px;padding-bottom:80px}}:host .modal-layout .modal-element{position:relative;display:flex;flex-direction:column;background-color:#ffffff;overflow:hidden;max-height:100%;padding:16px 24px;box-sizing:border-box}:host .modal-layout .modal-element .header{display:flex;flex-direction:column}:host .modal-layout .modal-element .header .header-content{display:flex;align-items:center;margin-bottom:16px;flex-shrink:0;justify-content:space-between;position:relative}:host .modal-layout .modal-element .header .header-side{display:flex;justify-content:center;align-items:center}:host .modal-layout .modal-element .header .header-side dx-icon{cursor:pointer}:host .modal-layout .modal-element .header .header-border{height:1px;background-color:#c8aa22}:host .modal-layout .modal-element .modal-content{position:relative;overflow:hidden;display:flex;flex-grow:1}:host .modal-layout .modal-element .modal-content .topShadow{position:absolute;width:100%;height:4px;top:0;z-index:1;background-color:black;opacity:0.1}:host .modal-layout .modal-element .modal-content .topShadow:not(.visible){opacity:0}:host .modal-layout .modal-element .modal-content .bottomShadow{position:absolute;width:100%;height:4px;bottom:0;background-color:black;opacity:0.1}:host .modal-layout .modal-element .modal-content .bottomShadow:not(.visible){opacity:0}:host .modal-layout .modal-element .modal-content .content{position:relative;flex-grow:1;padding:40px 0 40px 0}:host .modal-layout .modal-element .modal-content .content::-webkit-scrollbar{display:none}:host .modal-layout .modal-element .modal-content .content.color-white{background-color:inherit}:host .modal-layout .modal-element .modal-content .content.color-grey{background-color:#ed924e}:host .modal-layout .modal-element .footer{display:flex;flex-direction:column}:host .modal-layout .modal-element .footer .footer-border{height:1px;background-color:#d6d6d6;margin-bottom:16px}:host .modal-layout .modal-element .footer .footer-content{display:flex;flex-direction:column-reverse;flex-shrink:0;align-items:center;gap:16px;--dx-button-width:100%}:host .modal-layout .modal-element .footer .footer-content .footer-left-content,:host .modal-layout .modal-element .footer .footer-content .footer-right-content{display:flex;justify-content:flex-end;flex-wrap:wrap;gap:16px;width:100%}:host .modal-layout .modal-element .footer .footer-content .footer-left-content ::slotted(div),:host .modal-layout .modal-element .footer .footer-content .footer-right-content ::slotted(div){display:flex;justify-content:flex-end;flex-wrap:wrap;gap:16px;width:100%}@media (min-width: 476px){:host .modal-layout .modal-element .footer .footer-content{flex-wrap:wrap-reverse;--dx-button-width:unset;flex-direction:row;justify-content:flex-end;box-sizing:border-box}:host .modal-layout .modal-element .footer .footer-content .footer-right-content,:host .modal-layout .modal-element .footer .footer-content .footer-left-content{max-width:100%;width:max-content}:host .modal-layout .modal-element .footer .footer-content .footer-right-content{margin-left:auto}}:host .modal-layout .modal-element .footer:not(.visible){display:none}:host(.state-closed) .modal-element{opacity:0;visibility:hidden}:host(.state-closing),:host(.state-closed){pointer-events:none}:host(.state-closing) .overlay,:host(.state-closed) .overlay{background-color:rgba(87, 87, 87, 0)}:host(.state-opening) .modal-layout{animation:animate-open 400ms ease-in-out;animation-fill-mode:forwards}:host(.state-closing) .modal-layout{animation:animate-close 400ms ease-in-out;animation-fill-mode:forwards}@keyframes animate-open{from{transform:translateY(-100vh);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes animate-close{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-100vh);opacity:0}}:host .modal-element{width:100%;height:100%}@media (min-width: 476px){:host .modal-element.width-site-navigation{width:354px}}@media (min-width: 760px){:host .modal-element.width-s{width:444px}:host .modal-element.width-m{width:678px}:host .modal-element.width-l{width:912px}:host .modal-element.width-xl{width:1146px}:host .modal-element.width-xxl{width:1380px}}@media (min-width: 760px){:host(.size-defined) .modal-layout .modal-element{height:var(--dx-modal-height)}}@media (min-width: 760px){:host(.size-content) .modal-layout .modal-element{height:initial}}:host(.size-site-navigation-menu) .modal-layout{flex-direction:column;align-items:center;justify-content:flex-start}@media (min-width: 476px){:host(.size-site-navigation-menu) .modal-layout .modal-element{flex-grow:1;max-height:800px}}@media (min-width: 476px){:host(.size-site-navigation-menu) .modal-layout .modal-element{height:initial}}";export{r as dx_modal}