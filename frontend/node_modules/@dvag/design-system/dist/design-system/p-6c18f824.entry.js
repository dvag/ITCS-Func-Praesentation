import{r as t,c as e,w as i,h as s,H as o,g as n,f as l}from"./p-c66bef8d.js";import{i as a}from"./p-90458c1b.js";import{E as r}from"./p-70f48e14.js";import{d as c,k as h}from"./p-aa0a06c6.js";import{c as d,s as b}from"./p-985ad2ab.js";import{B as p}from"./p-76fa4815.js";import"./p-15b13381.js";const x=class{constructor(i){t(this,i),this.rowSelected=e(this,"rowSelected",7),this.tableScrollChanged=t=>{this.tableScrollable=t.detail},this.expansionChangedHandler=t=>{this.showExpandColumn=t.detail},this.selectionChangedHandler=t=>{this.showSelectionColumn=t.detail.enabled,this.selectionMode=t.detail.mode},this.open=!1,this.showExpandColumn=!1,this.showSelectionColumn=!1,this.tableScrollable=!1,this.selectionMode="multi",this.mediaQueryAllowsStickyness=!1,this.visible=!0}onRowSelected(){this.rowSelected.emit(this.selected)}connectedCallback(){this.breakpointAware=new p((()=>this.updateMediaQueryStickyness()),!0),this.table=c(this.self,"dx-table"),this.table.addEventListener("expansionChanged",this.expansionChangedHandler),this.table.addEventListener("selectionStateChanged",this.selectionChangedHandler),this.table.addEventListener("internalScrollChanged",this.tableScrollChanged),this.tableScrollable=this.table.internalScrollable,this.showSelectionColumn=this.table.selectionenabled,this.selectionMode=this.table.selectionmode,this.showExpandColumn=d(this.table),this.updateMediaQueryStickyness()}disconnectedCallback(){this.table.removeEventListener("expansionChanged",this.expansionChangedHandler),this.table.removeEventListener("internalScrollChanged",this.tableScrollChanged),this.table.removeEventListener("selectionStateChanged",this.selectionChangedHandler),this.breakpointAware.disconnect()}showStickyContainer(){return b(this.tableScrollable,this.showExpandColumn,this.showSelectionColumn,this.mediaQueryAllowsStickyness,(()=>a(this.self,"sticky")))}updateMediaQueryStickyness(){this.mediaQueryAllowsStickyness=this.breakpointAware.getEffectiveValue({mq1:!1,mq3:!0})}handleGrowBoxStateChanged(t){const e=this.self.shadowRoot.querySelector(".sticky-space");null!=e&&(()=>new Promise((e=>{var i;if("closing"!==t.detail&&"opening"!==t.detail)e(0);else{const t=h(this.self);e(null!==(i=null==t?void 0:t.scrollLeft)&&void 0!==i?i:0)}})))().then((t=>{i((()=>{e.style.left=t+"px"}))}))}renderStickyColumn(t){const e=this.tableScrollable&&this.mediaQueryAllowsStickyness;return"sticky"!==t||e?"default"===t&&e?null:s("slot",{name:"sticky",onSlotchange:()=>{l(this.self)}}):null}renderStickyColumns(t,e){return s("div",{class:{sticky:!0,visible:e}},s("div",{class:{"collapsable-button-container":!0,"expand-cell":!0}},t?s("button",{class:{"collapsable-button":!0}},s("dx-chevron",{directiontop:this.open})):null),s("dx-table-cell",{type:"html",class:"selection-cell"},this.renderSelectionInput()),this.renderStickyColumn("sticky"))}renderSelectionInput(){return"single"===this.selectionMode&&null!=this.rowid?s("dx-radio-button",{id:r.createId(this.self,"selection"),groupid:"table-selection-group",disabled:!this.visible,onClick:t=>t.stopPropagation(),value:this.rowid,onInternalCheckedChange:t=>{this.selected=t.detail}}):s("dx-checkbox",{id:r.createId(this.self,"selection"),onClick:t=>t.stopPropagation(),onCheckedChange:t=>{this.selected=t.detail},checked:this.selected})}render(){const t=a(this.self,"content"),e=this.showStickyContainer();return s(o,{class:{visible:this.visible},role:"row"},s("div",{class:{"table-row-container":!0}},s("div",{class:{"table-row":!0,"has-content":t},onClick:()=>{this.open=!this.open}},this.renderStickyColumns(t,e),this.renderStickyColumn("default"),s("slot",null)),t?s("dx-simple-grow-box",{open:this.open,onGrowBoxStateChange:t=>{this.handleGrowBoxStateChanged(t)}},s("div",{class:"content-container"},s("div",{class:{"sticky-space":!0,visible:e}}),s("div",{class:"content"},s("slot",{name:"content"})))):null))}get self(){return n(this)}static get watchers(){return{selected:["onRowSelected"]}}};x.style=":host{border-bottom:var(--dx-table-row-border-bottom, 1px solid #d6d6d6);width:var(--dx-table-row-width, 100%);display:none}:host:host([hidden]){display:none !important}:host:host(.visible){display:flex}:host .collapsable-button-container{width:var(--dx-table-collapsable-spacing-left, 64px);flex:0 0 var(--dx-table-collapsable-spacing-left, 64px);display:flex;justify-content:center}:host .collapsable-button-container .collapsable-button{width:var(--dx-button-width, fit-content);width:var(--dx-button-width, -moz-fit-content);cursor:pointer;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;white-space:nowrap;user-select:none;-webkit-user-select:none;border:none;margin:0;background-color:transparent;transition:background-color 150ms ease-in-out, border-color 150ms ease-in-out;outline-offset:2px;margin-top:8px;width:48px;height:48px}:host .collapsable-button-container .collapsable-button[disabled]{cursor:unset}:host .collapsable-button-container .collapsable-button.icon-right{flex-direction:row-reverse}:host .collapsable-button-container .collapsable-button:focus-visible{outline:2px solid #004763}:host .table-row-container{box-sizing:border-box;width:var(--dx-table-row-width, 100%);overflow-x:var(--dx-table-row-overflow, hidden)}:host .table-row-container .table-row{min-height:64px;display:flex;position:relative}:host .table-row-container .table-row:host(.selected){background-color:#f7f7f7}:host .table-row-container .table-row.selected{background-color:#f7f7f7}:host .table-row-container .table-row.has-content{cursor:pointer}:host .table-row-container .content-container{display:flex;box-sizing:border-box;background:white;z-index:1;flex:1}:host .table-row-container .content-container .sticky-space{display:none;position:sticky;background-color:white;left:0;flex:0 0 var(--dx-table-sticky-columns-width, 0);border-right:1px solid #d6d6d6;z-index:1}:host .table-row-container .content-container .sticky-space.visible{display:block}:host .table-row-container .content-container .content{padding:0 8px 32px 8px;flex:1}:host .sticky{position:sticky;left:0;background:white;z-index:1;display:flex;width:max-content;flex:0 0 0}:host .sticky.visible{flex-basis:unset;border-right:1px solid #d6d6d6}:host .sticky .selection-cell{display:var(--dx-table-selection-display, none);min-width:56px;max-width:56px}:host .sticky .expand-cell{display:var(--dx-table-expand-display, none);min-width:64px;max-width:64px}";export{x as dx_table_row}