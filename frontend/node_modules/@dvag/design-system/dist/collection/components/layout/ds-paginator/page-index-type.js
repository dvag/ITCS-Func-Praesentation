import { clamp } from "../../../classes/math-util";
export const GAP = "gap";
export function generatePageIndexTypes(currentPage, numberOfPages, pageRange) {
  const start = clamp(currentPage - pageRange, 1, numberOfPages);
  const end = clamp(currentPage + pageRange, 1, numberOfPages);
  const pageArray = [];
  for (let i = start; i <= end; ++i) {
    pageArray.push(i);
  }
  const diff = end - start;
  const maxVisibleMiddlePages = pageRange * 2 + 1;
  if (diff < maxVisibleMiddlePages) {
    if (start === 1) {
      for (let i = 1; i < maxVisibleMiddlePages - diff; ++i) {
        if (end + i < numberOfPages) {
          pageArray.push(end + i);
        }
      }
    }
    else if (end === numberOfPages) {
      for (let i = 1; i < maxVisibleMiddlePages - diff; ++i) {
        if (start - i > 1) {
          pageArray.unshift(start - i);
        }
      }
    }
  }
  const newStart = pageArray[0];
  if (newStart !== 1) {
    if (newStart - 1 > 1) {
      pageArray.unshift(GAP);
    }
    pageArray.unshift(1);
  }
  const newEnd = pageArray[pageArray.length - 1];
  if (newEnd !== numberOfPages) {
    if (newEnd + 1 < numberOfPages) {
      pageArray.push(GAP);
    }
    pageArray.push(numberOfPages);
  }
  return pageArray;
}
