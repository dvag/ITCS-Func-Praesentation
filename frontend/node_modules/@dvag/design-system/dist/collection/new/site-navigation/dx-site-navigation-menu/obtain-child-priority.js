import { SITE_NAVIGATION_STATE_ARRAY } from "../dx-site-navigation-menu-item/states";
// Create an array with all child states state including own.
// Then sort it by priority.
export function obtainChildState(items) {
  return items.map((item) => {
    // Start with own state
    const allStates = [item.state];
    // Add all child states
    item.children.forEach((child) => allStates.push(child.state));
    // Compute highest priority
    const highestPriority = allStates.reduce((a, b) => {
      return SITE_NAVIGATION_STATE_ARRAY.indexOf(b) <=
        SITE_NAVIGATION_STATE_ARRAY.indexOf(a)
        ? b
        : a;
    });
    return Object.assign(Object.assign({}, item), { state: highestPriority });
  });
}
