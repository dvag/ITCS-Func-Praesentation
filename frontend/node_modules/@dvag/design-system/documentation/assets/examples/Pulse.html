<!DOCTYPE html>
<html dir="ltr" lang="de">
<head>
    <meta charset="utf-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>App</title>

    <script
            type="module"
            src="../build/design-system.esm.js"
    ></script>
    <link rel="stylesheet" href="../design-system-css/design-system.css"/>
</head>
<body>
<style>
    dx-container[type="page"] {
        padding: 72px 0;
    }
</style>
<dx-app>
    <dx-header appname="ExampleApp">
        <dx-header-app-favorites id="app-favorites" slot="menu"></dx-header-app-favorites>
    </dx-header>
    <dx-container color="background" type="page">
        <dx-grid mq1="3-3/3/12">
            <dx-number-input id="outer-pulse" label="Pulse scale" precision="2" value="2"></dx-number-input>
            <dx-number-input id="inner-pulse" label="Inner scale" precision="2" value="1.2"></dx-number-input>
            <dx-number-input id="animation-duration" label="Animation duration" unit="ms" precision="0" value="2000"></dx-number-input>
            <dx-button id="add-app" type="primary-m" label="Add application"></dx-button>
        </dx-grid>
    </dx-container>
</dx-app>
<script>
    function createApp(id, name) {
        const appElement = document.createElement("dx-header-app-favorites-app");
        appElement.appid = id;
        appElement.appname = name;

        return appElement;
    }

    let appIdIncr = 0;
    const appFavorites = document.querySelector('#app-favorites');
    document.querySelector('#add-app').addEventListener("click", () => {
        const appId = ++appIdIncr;
        const newApp = createApp(appId, `Application ${appId}`)
        appFavorites.appendChild(newApp);
    })
    document.querySelector('#inner-pulse').addEventListener("valueComplete", (e) => {
        appFavorites.style.setProperty("--dx-pulse-default-scale", e.detail?.toString() || 1.2);
    });
    document.querySelector('#outer-pulse').addEventListener("valueComplete", (e) => {
        appFavorites.style.setProperty("--dx-pulse-scale",  e.detail?.toString() || 2);
    });

    document.querySelector('#animation-duration').addEventListener("valueComplete", (e) => {
        appFavorites.style.setProperty("--dx-pulse-animation-duration",  `${e.detail?.toString() || 2000}ms` );
    });
</script>

</body>
</html>
