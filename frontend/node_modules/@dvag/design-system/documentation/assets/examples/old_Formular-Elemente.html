<!DOCTYPE html>
<html dir="ltr" lang="de">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Formular-Elemente</title>

    <script
      type="module"
      src="../build/design-system.esm.js"
    ></script>
    <link rel="stylesheet" href="../design-system-css/design-system.css" />
  </head>
  <body>
    <ds-text type="u1">Formular Elemente</ds-text>
    <br /><br />

    <div style="width: 400px">
      <ds-text-input id="name-input" label="Name"></ds-text-input>
    </div>

    <br />

    <div
      style="
        display: grid;
        gap: 10px;
        grid-template-columns: 1fr 1fr;
        align-items: start;
      "
    >
      <div style="width: 400px">
        <ds-number-input
          id="einkommen-input"
          label="Einkommen"
          profile="currency-euro"
          value="0"
        ></ds-number-input>
        <br /><br />
        <ds-search id="search-input"></ds-search>
        <br /><br />

        <ds-grid s="2-2/*">
          <ds-text>Label:</ds-text>
          <ds-text id="lbl-label">Nichts ausgewählt.</ds-text>
          <ds-text>Sub-label:</ds-text>
          <ds-text id="lbl-sublabel">Nichts ausgewählt.</ds-text>
          <ds-text>Value:</ds-text>
          <ds-text id="lbl-value">Nichts ausgewählt.</ds-text>
        </ds-grid>
        <br /><br />
      </div>
      <ds-slider
        id="einkommen-slider"
        label="Einkommen"
        min="0"
        max="10000"
        value="0"
        formattedvalue="$2 €"
      ></ds-slider>
    </div>

    <div style="width: 400px">
      <ds-dropdown id="color" label="Farbe" icon="ordner" value="magenta">
        <ds-dropdown-option
          icon="formulare"
          label="Rot"
          value="red"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Blau"
          value="blue"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Gelb"
          value="yellow"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Grün"
          value="green"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Pink"
          value="pink"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Weiß"
          value="white"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="formulare"
          label="Schwarz"
          value="black"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="reisen"
          label="Magenta"
          value="magenta"
        ></ds-dropdown-option>
        <ds-dropdown-option
          icon="eurozeichen"
          label="Lila"
          value="purple"
        ></ds-dropdown-option>
      </ds-dropdown>
    </div>

    <br />

    <ds-text type="ftf">Familienstand</ds-text>

    <ds-radio-button-group id="rb-familienstand" value="single">
      <ds-radio-button
        id="rb-familienstand-single"
        value="single"
        label="Alleinstehend"
      ></ds-radio-button>
      <ds-radio-button
        id="rb-familienstand-married"
        value="married"
        label="Verheiratet"
      ></ds-radio-button>
      <ds-radio-button
        id="rb-familienstand-divorced"
        value="divorced"
        label="Geschieden"
      ></ds-radio-button>
    </ds-radio-button-group>

    <br />

    <div style="width: 400px">
      <ds-text-area id="beschreibung" label="Beschreibung"></ds-text-area>

      <br />
      <br />

      <ds-date-input id="datum" label="Datum"></ds-date-input>
    </div>

    <br />

    <ds-text type="ftf">Vermögenswerte</ds-text>

    <ds-checkbox id="vw-bargeld" label="Bargeld"></ds-checkbox>
    <ds-checkbox id="vw-wertpapiere" label="Wertpapiere"></ds-checkbox>
    <ds-checkbox id="vw-immobilien" label="Immobilien"></ds-checkbox>

    <br />

    <ds-grid s="4/*">
      <div>
        <ds-function-icon-button
          id="button1"
          onclick="alert('Button geklickt')"
        >
          <ds-icon icon="einstellungen" size="32"></ds-icon>
        </ds-function-icon-button>
      </div>
      <div>
        <ds-icon-button
          id="button2"
          size="medium"
          color="rot"
          onclick="alert('Button geklickt')"
        >
          <ds-icon icon="einstellungen"></ds-icon>
          <ds-text>Einstellungen</ds-text>
        </ds-icon-button>
      </div>
      <div>
        <ds-button
          id="button3"
          type="primary"
          size="medium"
          onclick="alert('Button geklickt')"
        >
          <ds-text>Primary</ds-text>
        </ds-button>
      </div>
      <div>
        <ds-text-button id="button4" onclick="alert('Button geklickt')">
          <ds-icon icon="check"></ds-icon>
          <ds-text>Standardfarbe</ds-text>
        </ds-text-button>
      </div>
    </ds-grid>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const formName = document.querySelector("#name-input");
        const formIncome = document.querySelector("#einkommen-input");
        const formSlider = document.querySelector("#einkommen-slider");

        formName.addEventListener("valueChange", (e) => {
          if (e.detail.split(" ").length < 2) {
            formName.setAttribute(
              "errormessage",
              "Bitte Vor- und Nachname angeben."
            );
          } else {
            formName.removeAttribute("errormessage");
          }
        });

        formIncome.addEventListener("valueChange", (e) =>
          formSlider.setAttribute("value", e.detail)
        );
        formSlider.addEventListener("valueChange", (e) =>
          formIncome.setAttribute("value", e.detail)
        );
      });
    </script>

    <script>
      const values = [
        {
          label: "Frankfurt am Main",
          sublabel: "(60306)",
          value: "60306",
          category: "Important",
        },
        {
          label: "Berlin",
          sublabel: "(10115)",
          value: "10115",
          category: "Important",
        },
        {
          label: "Hamburg",
          sublabel: "(20095)",
          value: "20095",
          category: "Important",
        },
        {
          label: "München",
          sublabel: "(80331)",
          value: "80331",
          category: "Less Important",
        },
        {
          label: "Köln",
          sublabel: "(50667)",
          value: "50667",
          category: "Less Important",
        },
        {
          label: "Stuttgart",
          sublabel: "(70173)",
          value: "70173",
          category: "Less Important",
        },
        {
          label: "Aachen",
          sublabel: "(52062)",
          value: "52062",
          category: "Irrelevant",
        },
      ];

      document
        .querySelector("#search-input")
        .addEventListener("search", (e) => {
          setTimeout(() => {
            if (e.detail.value?.length > 0) {
              // user typed something?
              const userInput = e.detail.value.toLowerCase();
              const suggestions = values.filter(
                (v) =>
                  v.label.toLowerCase().includes(userInput) ||
                  v.category.toLowerCase().includes(userInput)
              );
              suggestions.sort((a, b) => a.label.localeCompare(b.label));
              e.detail.provideValues(suggestions);
            } else {
              e.detail.provideValues(values);
            }
          }, 400 + Math.random() * 1500); // simulate latency
        });

      document
        .querySelector("#search-input")
        .addEventListener("selectSearch", (e) => {
          document.querySelector("#lbl-label").textContent = e.detail.label;
          document.querySelector("#lbl-sublabel").textContent =
            e.detail.sublabel;
          document.querySelector("#lbl-value").textContent = e.detail.value;
        });
    </script>
  </body>
</html>
